<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/qiniu/nodejs-sdk">qiniu (v6.1.13)</a>
</h1>
<h4>Node wrapper for Qiniu Resource (Cloud) Storage API</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu">module qiniu</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.Exif">
            function <span class="apidocSignatureSpan">qiniu.</span>fop.Exif
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.Exif.prototype.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.</span>fop.Exif.prototype.makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageInfo">
            function <span class="apidocSignatureSpan">qiniu.</span>fop.ImageInfo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.</span>fop.ImageInfo.prototype.makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageView">
            function <span class="apidocSignatureSpan">qiniu.</span>fop.ImageView
            <span class="apidocSignatureSpan">(mode, width, height, quality, format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageView.prototype.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.</span>fop.ImageView.prototype.makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.pfop">
            function <span class="apidocSignatureSpan">qiniu.</span>fop.pfop
            <span class="apidocSignatureSpan">(bucket, key, fops, opts, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.PutExtra">
            function <span class="apidocSignatureSpan">qiniu.</span>io.PutExtra
            <span class="apidocSignatureSpan">(params, mimeType, crc32, checkCrc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.PutRet">
            function <span class="apidocSignatureSpan">qiniu.</span>io.PutRet
            <span class="apidocSignatureSpan">(hash, key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.put">
            function <span class="apidocSignatureSpan">qiniu.</span>io.put
            <span class="apidocSignatureSpan">(uptoken, key, body, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putFile">
            function <span class="apidocSignatureSpan">qiniu.</span>io.putFile
            <span class="apidocSignatureSpan">(uptoken, key, loadFile, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putFileWithoutKey">
            function <span class="apidocSignatureSpan">qiniu.</span>io.putFileWithoutKey
            <span class="apidocSignatureSpan">(uptoken, loadFile, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putReadable">
            function <span class="apidocSignatureSpan">qiniu.</span>io.putReadable
            <span class="apidocSignatureSpan">(uptoken, key, rs, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putWithoutKey">
            function <span class="apidocSignatureSpan">qiniu.</span>io.putWithoutKey
            <span class="apidocSignatureSpan">(uptoken, body, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postMultipart">
            function <span class="apidocSignatureSpan">qiniu.</span>rpc.postMultipart
            <span class="apidocSignatureSpan">(uri, form, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postWithForm">
            function <span class="apidocSignatureSpan">qiniu.</span>rpc.postWithForm
            <span class="apidocSignatureSpan">(uri, form, token, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postWithoutForm">
            function <span class="apidocSignatureSpan">qiniu.</span>rpc.postWithoutForm
            <span class="apidocSignatureSpan">(uri, token, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.BatchItemRet">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.BatchItemRet
            <span class="apidocSignatureSpan">(error, code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.BatchStatItemRet">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.BatchStatItemRet
            <span class="apidocSignatureSpan">(data, error, code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchCopy">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.batchCopy
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchDelete">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.batchDelete
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchMove">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.batchMove
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchStat">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.batchStat
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.copy">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.copy
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.fetch">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.fetch
            <span class="apidocSignatureSpan">(url, bucket, key, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.forceBatchCopy
            <span class="apidocSignatureSpan">(entries, force, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchMove">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.forceBatchMove
            <span class="apidocSignatureSpan">(entries, force, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceCopy">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.forceCopy
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceMove">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.forceMove
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.move">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.move
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.remove">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.remove
            <span class="apidocSignatureSpan">(bucket, key, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.stat">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.stat
            <span class="apidocSignatureSpan">(bucket, key, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Entry">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.Entry
            <span class="apidocSignatureSpan">(hash, fsize, putTime, mimeType, endUser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPath
            <span class="apidocSignatureSpan">(bucket, key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath.prototype.encode">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPath.prototype.encode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath.prototype.toStr">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPath.prototype.toStr
            <span class="apidocSignatureSpan">(op)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPathPair">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPathPair
            <span class="apidocSignatureSpan">(src, dest)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPathPair.prototype.toStr
            <span class="apidocSignatureSpan">(op, force)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.GetPolicy">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.GetPolicy
            <span class="apidocSignatureSpan">(expires)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.GetPolicy.prototype.makeRequest
            <span class="apidocSignatureSpan">(baseUrl, mac)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy
            <span class="apidocSignatureSpan">(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy.prototype.getFlags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy.prototype.token">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy.prototype.token
            <span class="apidocSignatureSpan">(mac)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy2
            <span class="apidocSignatureSpan">(putPolicyObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy2.prototype.getFlags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.token">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy2.prototype.token
            <span class="apidocSignatureSpan">(mac)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.makeBaseUrl">
            function <span class="apidocSignatureSpan">qiniu.</span>rs.makeBaseUrl
            <span class="apidocSignatureSpan">(domain, key, query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rsf.listPrefix">
            function <span class="apidocSignatureSpan">qiniu.</span>rsf.listPrefix
            <span class="apidocSignatureSpan">(bucket, prefix, marker, limit, delimiter, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.base64ToUrlSafe">
            function <span class="apidocSignatureSpan">qiniu.</span>util.base64ToUrlSafe
            <span class="apidocSignatureSpan">(v)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.generateAccessToken">
            function <span class="apidocSignatureSpan">qiniu.</span>util.generateAccessToken
            <span class="apidocSignatureSpan">(uri, body)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.hmacSha1">
            function <span class="apidocSignatureSpan">qiniu.</span>util.hmacSha1
            <span class="apidocSignatureSpan">(encodedFlags, secretKey)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.isQiniuCallback">
            function <span class="apidocSignatureSpan">qiniu.</span>util.isQiniuCallback
            <span class="apidocSignatureSpan">(path, body, callbackAuth)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.urlsafeBase64Encode">
            function <span class="apidocSignatureSpan">qiniu.</span>util.urlsafeBase64Encode
            <span class="apidocSignatureSpan">(jsonFlags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.zone.up_host">
            function <span class="apidocSignatureSpan">qiniu.</span>zone.up_host
            <span class="apidocSignatureSpan">(uptoken, conf)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>auth</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>conf</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>fop</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>fop.Exif.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>fop.ImageInfo.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>fop.ImageView.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>io</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rpc</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPath.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPathPair.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rs.GetPolicy.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy2.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>rsf</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">qiniu.</span>zone</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop">module qiniu.fop</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.Exif">
            function <span class="apidocSignatureSpan">qiniu.fop.</span>Exif
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageInfo">
            function <span class="apidocSignatureSpan">qiniu.fop.</span>ImageInfo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageView">
            function <span class="apidocSignatureSpan">qiniu.fop.</span>ImageView
            <span class="apidocSignatureSpan">(mode, width, height, quality, format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.pfop">
            function <span class="apidocSignatureSpan">qiniu.fop.</span>pfop
            <span class="apidocSignatureSpan">(bucket, key, fops, opts, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.Exif">module qiniu.fop.Exif</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.Exif.Exif">
            function <span class="apidocSignatureSpan">qiniu.fop.</span>Exif
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.Exif.prototype">module qiniu.fop.Exif.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.Exif.prototype.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.fop.Exif.prototype.</span>makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.Exif.prototype.makeRequest">module qiniu.fop.Exif.prototype.makeRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.Exif.prototype.makeRequest.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.fop.Exif.prototype.</span>makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.ImageInfo">module qiniu.fop.ImageInfo</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageInfo.ImageInfo">
            function <span class="apidocSignatureSpan">qiniu.fop.</span>ImageInfo
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.ImageInfo.prototype">module qiniu.fop.ImageInfo.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.fop.ImageInfo.prototype.</span>makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.ImageInfo.prototype.makeRequest">module qiniu.fop.ImageInfo.prototype.makeRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.fop.ImageInfo.prototype.</span>makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.ImageView">module qiniu.fop.ImageView</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageView.ImageView">
            function <span class="apidocSignatureSpan">qiniu.fop.</span>ImageView
            <span class="apidocSignatureSpan">(mode, width, height, quality, format)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.ImageView.prototype">module qiniu.fop.ImageView.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageView.prototype.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.fop.ImageView.prototype.</span>makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.ImageView.prototype.makeRequest">module qiniu.fop.ImageView.prototype.makeRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.ImageView.prototype.makeRequest.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.fop.ImageView.prototype.</span>makeRequest
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.fop.pfop">module qiniu.fop.pfop</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.fop.pfop.pfop">
            function <span class="apidocSignatureSpan">qiniu.fop.</span>pfop
            <span class="apidocSignatureSpan">(bucket, key, fops, opts, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.io">module qiniu.io</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.PutExtra">
            function <span class="apidocSignatureSpan">qiniu.io.</span>PutExtra
            <span class="apidocSignatureSpan">(params, mimeType, crc32, checkCrc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.PutRet">
            function <span class="apidocSignatureSpan">qiniu.io.</span>PutRet
            <span class="apidocSignatureSpan">(hash, key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.put">
            function <span class="apidocSignatureSpan">qiniu.io.</span>put
            <span class="apidocSignatureSpan">(uptoken, key, body, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putFile">
            function <span class="apidocSignatureSpan">qiniu.io.</span>putFile
            <span class="apidocSignatureSpan">(uptoken, key, loadFile, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putFileWithoutKey">
            function <span class="apidocSignatureSpan">qiniu.io.</span>putFileWithoutKey
            <span class="apidocSignatureSpan">(uptoken, loadFile, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putReadable">
            function <span class="apidocSignatureSpan">qiniu.io.</span>putReadable
            <span class="apidocSignatureSpan">(uptoken, key, rs, extra, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putWithoutKey">
            function <span class="apidocSignatureSpan">qiniu.io.</span>putWithoutKey
            <span class="apidocSignatureSpan">(uptoken, body, extra, onret)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">qiniu.io.</span>UNDEFINED_KEY</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.io.PutExtra">module qiniu.io.PutExtra</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.PutExtra.PutExtra">
            function <span class="apidocSignatureSpan">qiniu.io.</span>PutExtra
            <span class="apidocSignatureSpan">(params, mimeType, crc32, checkCrc)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.io.PutRet">module qiniu.io.PutRet</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.PutRet.PutRet">
            function <span class="apidocSignatureSpan">qiniu.io.</span>PutRet
            <span class="apidocSignatureSpan">(hash, key)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.io.put">module qiniu.io.put</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.put.put">
            function <span class="apidocSignatureSpan">qiniu.io.</span>put
            <span class="apidocSignatureSpan">(uptoken, key, body, extra, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.io.putFile">module qiniu.io.putFile</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putFile.putFile">
            function <span class="apidocSignatureSpan">qiniu.io.</span>putFile
            <span class="apidocSignatureSpan">(uptoken, key, loadFile, extra, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.io.putFileWithoutKey">module qiniu.io.putFileWithoutKey</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putFileWithoutKey.putFileWithoutKey">
            function <span class="apidocSignatureSpan">qiniu.io.</span>putFileWithoutKey
            <span class="apidocSignatureSpan">(uptoken, loadFile, extra, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.io.putReadable">module qiniu.io.putReadable</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putReadable.putReadable">
            function <span class="apidocSignatureSpan">qiniu.io.</span>putReadable
            <span class="apidocSignatureSpan">(uptoken, key, rs, extra, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.io.putWithoutKey">module qiniu.io.putWithoutKey</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.io.putWithoutKey.putWithoutKey">
            function <span class="apidocSignatureSpan">qiniu.io.</span>putWithoutKey
            <span class="apidocSignatureSpan">(uptoken, body, extra, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rpc">module qiniu.rpc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postMultipart">
            function <span class="apidocSignatureSpan">qiniu.rpc.</span>postMultipart
            <span class="apidocSignatureSpan">(uri, form, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postWithForm">
            function <span class="apidocSignatureSpan">qiniu.rpc.</span>postWithForm
            <span class="apidocSignatureSpan">(uri, form, token, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postWithoutForm">
            function <span class="apidocSignatureSpan">qiniu.rpc.</span>postWithoutForm
            <span class="apidocSignatureSpan">(uri, token, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rpc.postMultipart">module qiniu.rpc.postMultipart</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postMultipart.postMultipart">
            function <span class="apidocSignatureSpan">qiniu.rpc.</span>postMultipart
            <span class="apidocSignatureSpan">(uri, form, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rpc.postWithForm">module qiniu.rpc.postWithForm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postWithForm.postWithForm">
            function <span class="apidocSignatureSpan">qiniu.rpc.</span>postWithForm
            <span class="apidocSignatureSpan">(uri, form, token, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rpc.postWithoutForm">module qiniu.rpc.postWithoutForm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rpc.postWithoutForm.postWithoutForm">
            function <span class="apidocSignatureSpan">qiniu.rpc.</span>postWithoutForm
            <span class="apidocSignatureSpan">(uri, token, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs">module qiniu.rs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.BatchItemRet">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>BatchItemRet
            <span class="apidocSignatureSpan">(error, code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.BatchStatItemRet">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>BatchStatItemRet
            <span class="apidocSignatureSpan">(data, error, code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>Client
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Entry">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>Entry
            <span class="apidocSignatureSpan">(hash, fsize, putTime, mimeType, endUser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>EntryPath
            <span class="apidocSignatureSpan">(bucket, key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPathPair">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>EntryPathPair
            <span class="apidocSignatureSpan">(src, dest)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.GetPolicy">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>GetPolicy
            <span class="apidocSignatureSpan">(expires)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>PutPolicy
            <span class="apidocSignatureSpan">(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>PutPolicy2
            <span class="apidocSignatureSpan">(putPolicyObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.makeBaseUrl">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>makeBaseUrl
            <span class="apidocSignatureSpan">(domain, key, query)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.BatchItemRet">module qiniu.rs.BatchItemRet</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.BatchItemRet.BatchItemRet">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>BatchItemRet
            <span class="apidocSignatureSpan">(error, code)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.BatchStatItemRet">module qiniu.rs.BatchStatItemRet</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.BatchStatItemRet.BatchStatItemRet">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>BatchStatItemRet
            <span class="apidocSignatureSpan">(data, error, code)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client">module qiniu.rs.Client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.Client">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>Client
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype">module qiniu.rs.Client.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchCopy">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchCopy
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchDelete">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchDelete
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchMove">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchMove
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchStat">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchStat
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.copy">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>copy
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.fetch">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>fetch
            <span class="apidocSignatureSpan">(url, bucket, key, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceBatchCopy
            <span class="apidocSignatureSpan">(entries, force, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchMove">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceBatchMove
            <span class="apidocSignatureSpan">(entries, force, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceCopy">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceCopy
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceMove">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceMove
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.move">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>move
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.remove">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>remove
            <span class="apidocSignatureSpan">(bucket, key, onret)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.stat">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>stat
            <span class="apidocSignatureSpan">(bucket, key, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.batchCopy">module qiniu.rs.Client.prototype.batchCopy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchCopy.batchCopy">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchCopy
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.batchDelete">module qiniu.rs.Client.prototype.batchDelete</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchDelete.batchDelete">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchDelete
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.batchMove">module qiniu.rs.Client.prototype.batchMove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchMove.batchMove">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchMove
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.batchStat">module qiniu.rs.Client.prototype.batchStat</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.batchStat.batchStat">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchStat
            <span class="apidocSignatureSpan">(entries, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.copy">module qiniu.rs.Client.prototype.copy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.copy.copy">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>copy
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.fetch">module qiniu.rs.Client.prototype.fetch</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.fetch.fetch">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>fetch
            <span class="apidocSignatureSpan">(url, bucket, key, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.forceBatchCopy">module qiniu.rs.Client.prototype.forceBatchCopy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy.forceBatchCopy">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceBatchCopy
            <span class="apidocSignatureSpan">(entries, force, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.forceBatchMove">module qiniu.rs.Client.prototype.forceBatchMove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchMove.forceBatchMove">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceBatchMove
            <span class="apidocSignatureSpan">(entries, force, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.forceCopy">module qiniu.rs.Client.prototype.forceCopy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceCopy.forceCopy">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceCopy
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.forceMove">module qiniu.rs.Client.prototype.forceMove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.forceMove.forceMove">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceMove
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.move">module qiniu.rs.Client.prototype.move</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.move.move">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>move
            <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.remove">module qiniu.rs.Client.prototype.remove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.remove.remove">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>remove
            <span class="apidocSignatureSpan">(bucket, key, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Client.prototype.stat">module qiniu.rs.Client.prototype.stat</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Client.prototype.stat.stat">
            function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>stat
            <span class="apidocSignatureSpan">(bucket, key, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.Entry">module qiniu.rs.Entry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.Entry.Entry">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>Entry
            <span class="apidocSignatureSpan">(hash, fsize, putTime, mimeType, endUser)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.EntryPath">module qiniu.rs.EntryPath</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath.EntryPath">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>EntryPath
            <span class="apidocSignatureSpan">(bucket, key)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.EntryPath.prototype">module qiniu.rs.EntryPath.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath.prototype.encode">
            function <span class="apidocSignatureSpan">qiniu.rs.EntryPath.prototype.</span>encode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath.prototype.toStr">
            function <span class="apidocSignatureSpan">qiniu.rs.EntryPath.prototype.</span>toStr
            <span class="apidocSignatureSpan">(op)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.EntryPath.prototype.encode">module qiniu.rs.EntryPath.prototype.encode</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath.prototype.encode.encode">
            function <span class="apidocSignatureSpan">qiniu.rs.EntryPath.prototype.</span>encode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.EntryPath.prototype.toStr">module qiniu.rs.EntryPath.prototype.toStr</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPath.prototype.toStr.toStr">
            function <span class="apidocSignatureSpan">qiniu.rs.EntryPath.prototype.</span>toStr
            <span class="apidocSignatureSpan">(op)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.EntryPathPair">module qiniu.rs.EntryPathPair</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPathPair.EntryPathPair">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>EntryPathPair
            <span class="apidocSignatureSpan">(src, dest)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.EntryPathPair.prototype">module qiniu.rs.EntryPathPair.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr">
            function <span class="apidocSignatureSpan">qiniu.rs.EntryPathPair.prototype.</span>toStr
            <span class="apidocSignatureSpan">(op, force)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.EntryPathPair.prototype.toStr">module qiniu.rs.EntryPathPair.prototype.toStr</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr.toStr">
            function <span class="apidocSignatureSpan">qiniu.rs.EntryPathPair.prototype.</span>toStr
            <span class="apidocSignatureSpan">(op, force)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.GetPolicy">module qiniu.rs.GetPolicy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.GetPolicy.GetPolicy">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>GetPolicy
            <span class="apidocSignatureSpan">(expires)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.GetPolicy.prototype">module qiniu.rs.GetPolicy.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.rs.GetPolicy.prototype.</span>makeRequest
            <span class="apidocSignatureSpan">(baseUrl, mac)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.GetPolicy.prototype.makeRequest">module qiniu.rs.GetPolicy.prototype.makeRequest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest.makeRequest">
            function <span class="apidocSignatureSpan">qiniu.rs.GetPolicy.prototype.</span>makeRequest
            <span class="apidocSignatureSpan">(baseUrl, mac)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.PutPolicy">module qiniu.rs.PutPolicy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy.PutPolicy">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>PutPolicy
            <span class="apidocSignatureSpan">(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl )</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.PutPolicy.prototype">module qiniu.rs.PutPolicy.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags">
            function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy.prototype.</span>getFlags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy.prototype.token">
            function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy.prototype.</span>token
            <span class="apidocSignatureSpan">(mac)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.PutPolicy.prototype.getFlags">module qiniu.rs.PutPolicy.prototype.getFlags</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags.getFlags">
            function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy.prototype.</span>getFlags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.PutPolicy.prototype.token">module qiniu.rs.PutPolicy.prototype.token</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy.prototype.token.token">
            function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy.prototype.</span>token
            <span class="apidocSignatureSpan">(mac)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.PutPolicy2">module qiniu.rs.PutPolicy2</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2.PutPolicy2">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>PutPolicy2
            <span class="apidocSignatureSpan">(putPolicyObj)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.PutPolicy2.prototype">module qiniu.rs.PutPolicy2.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags">
            function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy2.prototype.</span>getFlags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.token">
            function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy2.prototype.</span>token
            <span class="apidocSignatureSpan">(mac)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.PutPolicy2.prototype.getFlags">module qiniu.rs.PutPolicy2.prototype.getFlags</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags.getFlags">
            function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy2.prototype.</span>getFlags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.PutPolicy2.prototype.token">module qiniu.rs.PutPolicy2.prototype.token</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.token.token">
            function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy2.prototype.</span>token
            <span class="apidocSignatureSpan">(mac)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rs.makeBaseUrl">module qiniu.rs.makeBaseUrl</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rs.makeBaseUrl.makeBaseUrl">
            function <span class="apidocSignatureSpan">qiniu.rs.</span>makeBaseUrl
            <span class="apidocSignatureSpan">(domain, key, query)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rsf">module qiniu.rsf</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rsf.listPrefix">
            function <span class="apidocSignatureSpan">qiniu.rsf.</span>listPrefix
            <span class="apidocSignatureSpan">(bucket, prefix, marker, limit, delimiter, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.rsf.listPrefix">module qiniu.rsf.listPrefix</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.rsf.listPrefix.listPrefix">
            function <span class="apidocSignatureSpan">qiniu.rsf.</span>listPrefix
            <span class="apidocSignatureSpan">(bucket, prefix, marker, limit, delimiter, onret)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.util">module qiniu.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.base64ToUrlSafe">
            function <span class="apidocSignatureSpan">qiniu.util.</span>base64ToUrlSafe
            <span class="apidocSignatureSpan">(v)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.generateAccessToken">
            function <span class="apidocSignatureSpan">qiniu.util.</span>generateAccessToken
            <span class="apidocSignatureSpan">(uri, body)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.hmacSha1">
            function <span class="apidocSignatureSpan">qiniu.util.</span>hmacSha1
            <span class="apidocSignatureSpan">(encodedFlags, secretKey)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.isQiniuCallback">
            function <span class="apidocSignatureSpan">qiniu.util.</span>isQiniuCallback
            <span class="apidocSignatureSpan">(path, body, callbackAuth)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.urlsafeBase64Encode">
            function <span class="apidocSignatureSpan">qiniu.util.</span>urlsafeBase64Encode
            <span class="apidocSignatureSpan">(jsonFlags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.util.base64ToUrlSafe">module qiniu.util.base64ToUrlSafe</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.base64ToUrlSafe.base64ToUrlSafe">
            function <span class="apidocSignatureSpan">qiniu.util.</span>base64ToUrlSafe
            <span class="apidocSignatureSpan">(v)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.util.generateAccessToken">module qiniu.util.generateAccessToken</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.generateAccessToken.generateAccessToken">
            function <span class="apidocSignatureSpan">qiniu.util.</span>generateAccessToken
            <span class="apidocSignatureSpan">(uri, body)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.util.hmacSha1">module qiniu.util.hmacSha1</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.hmacSha1.hmacSha1">
            function <span class="apidocSignatureSpan">qiniu.util.</span>hmacSha1
            <span class="apidocSignatureSpan">(encodedFlags, secretKey)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.util.isQiniuCallback">module qiniu.util.isQiniuCallback</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.isQiniuCallback.isQiniuCallback">
            function <span class="apidocSignatureSpan">qiniu.util.</span>isQiniuCallback
            <span class="apidocSignatureSpan">(path, body, callbackAuth)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.util.urlsafeBase64Encode">module qiniu.util.urlsafeBase64Encode</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.util.urlsafeBase64Encode.urlsafeBase64Encode">
            function <span class="apidocSignatureSpan">qiniu.util.</span>urlsafeBase64Encode
            <span class="apidocSignatureSpan">(jsonFlags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.zone">module qiniu.zone</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.zone.up_host">
            function <span class="apidocSignatureSpan">qiniu.zone.</span>up_host
            <span class="apidocSignatureSpan">(uptoken, conf)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.qiniu.zone.up_host">module qiniu.zone.up_host</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.qiniu.zone.up_host.up_host">
            function <span class="apidocSignatureSpan">qiniu.zone.</span>up_host
            <span class="apidocSignatureSpan">(uptoken, conf)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu" id="apidoc.module.qiniu">module qiniu</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.Exif" id="apidoc.element.qiniu.fop.Exif">
        function <span class="apidocSignatureSpan">qiniu.</span>fop.Exif
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Exif() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.Exif.prototype.makeRequest" id="apidoc.element.qiniu.fop.Exif.prototype.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.</span>fop.Exif.prototype.makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fop.Exif.prototype.makeRequest = function (url) {
  return url + '?exif'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageInfo" id="apidoc.element.qiniu.fop.ImageInfo">
        function <span class="apidocSignatureSpan">qiniu.</span>fop.ImageInfo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ImageInfo() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest" id="apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.</span>fop.ImageInfo.prototype.makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fop.ImageInfo.prototype.makeRequest = function (url) {
  return url + '?imageInfo'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageView" id="apidoc.element.qiniu.fop.ImageView">
        function <span class="apidocSignatureSpan">qiniu.</span>fop.ImageView
        <span class="apidocSignatureSpan">(mode, width, height, quality, format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ImageView(mode, width, height, quality, format) {
  this.mode = mode || 1;
  this.width = width || 0;
  this.height = height || 0;
  this.quality = quality || 0;
  this.format = format || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageView.prototype.makeRequest" id="apidoc.element.qiniu.fop.ImageView.prototype.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.</span>fop.ImageView.prototype.makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fop.ImageView.prototype.makeRequest = function (url) {
  url += '?imageView2/' + this.mode;

  if (this.width &gt; 0) {
    url += '/w/' + this.width;
  }

  if (this.height &gt; 0) {
    url += '/h/' + this.height;
  }

  if (this.quality &gt; 0) {
    url += '/q/' + this.quality;
  }

  if (this.format) {
    url += '/format/' + this.format;
  }

  return url;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.pfop" id="apidoc.element.qiniu.fop.pfop">
        function <span class="apidocSignatureSpan">qiniu.</span>fop.pfop
        <span class="apidocSignatureSpan">(bucket, key, fops, opts, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pfop(bucket, key, fops, opts, onret) {

  opts = opts || {};

  param = {
    bucket: bucket,
    key: key,
    fops: fops
  };
  if (opts.notifyURL) {
    param.notifyURL = opts.notifyURL;
  } else {
    param.notifyURL = 'www.test.com';
  }
  if (opts.force) {
    param.force = 1;
  }
  if (opts.pipeline) {
    param.pipeline = opts.pipeline;
  }

  var uri = conf.API_HOST + '/pfop/';
  var body = querystring.stringify(param);
  var auth = util.generateAccessToken(uri, body);
  rpc.postWithForm(uri, body, auth, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.PutExtra" id="apidoc.element.qiniu.io.PutExtra">
        function <span class="apidocSignatureSpan">qiniu.</span>io.PutExtra
        <span class="apidocSignatureSpan">(params, mimeType, crc32, checkCrc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutExtra(params, mimeType, crc32, checkCrc) {
  this.params = params || {};
  this.mimeType = mimeType || null;
  this.crc32 = crc32 || null;
  this.checkCrc = checkCrc || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.PutRet" id="apidoc.element.qiniu.io.PutRet">
        function <span class="apidocSignatureSpan">qiniu.</span>io.PutRet
        <span class="apidocSignatureSpan">(hash, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutRet(hash, key) {
  this.hash = hash || null;
  this.key = key || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.put" id="apidoc.element.qiniu.io.put">
        function <span class="apidocSignatureSpan">qiniu.</span>io.put
        <span class="apidocSignatureSpan">(uptoken, key, body, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function put(uptoken, key, body, extra, onret) {
  var rs = new Readable();
  rs.push(body);
  rs.push(null);

  if (!extra) {
    extra = new PutExtra();
  }
  if (extra.checkCrc == 1) {
    var bodyCrc32 = getCrc32(body);
    extra.crc32 = '' + parseInt(bodyCrc32, 16);
  } else if (extra.checkCrc == 2 &amp;&amp; extra.crc32) {
    extra.crc32 = '' + extra.crc32
  }
  return putReadable(uptoken, key, rs, extra, onret)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.putFile" id="apidoc.element.qiniu.io.putFile">
        function <span class="apidocSignatureSpan">qiniu.</span>io.putFile
        <span class="apidocSignatureSpan">(uptoken, key, loadFile, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putFile(uptoken, key, loadFile, extra, onret) {

  var rs = fs.createReadStream(loadFile);

  if (!extra) {
    extra = new PutExtra();
  }
  if (extra.checkCrc == 1) {
    var fileCrc32 = getCrc32(fs.readFileSync(loadFile));
    extra.crc32 = '' + parseInt(fileCrc32, 16);
  } else if (extra.checkCrc == 2 &amp;&amp; extra.crc32) {
    extra.crc32 = '' + extra.crc32
  }
  if (!extra.mimeType) {
    extra.mimeType = mime.lookup(loadFile);
  }

  return putReadable(uptoken, key, rs, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.putFileWithoutKey" id="apidoc.element.qiniu.io.putFileWithoutKey">
        function <span class="apidocSignatureSpan">qiniu.</span>io.putFileWithoutKey
        <span class="apidocSignatureSpan">(uptoken, loadFile, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putFileWithoutKey(uptoken, loadFile, extra, onret) {
  return putFile(uptoken, null, loadFile, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.putReadable" id="apidoc.element.qiniu.io.putReadable">
        function <span class="apidocSignatureSpan">qiniu.</span>io.putReadable
        <span class="apidocSignatureSpan">(uptoken, key, rs, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putReadable(uptoken, key, rs, extra, onret) {
  if (!extra) {
    extra = new PutExtra();
  }
  if (!extra.mimeType) {
    extra.mimeType = 'application/octet-stream';
  }

  if (!key) {
    key = exports.UNDEFINED_KEY;
  }

  rs.on("error", function (err) {
      onret({code: -1, error: err.toString()}, {});
  });

  var form = getMultipart(uptoken, key, rs, extra);
  // &nbsp;
  zone.up_host(uptoken, conf);

  return rpc.postMultipart(conf.UP_HOST, form, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.putWithoutKey" id="apidoc.element.qiniu.io.putWithoutKey">
        function <span class="apidocSignatureSpan">qiniu.</span>io.putWithoutKey
        <span class="apidocSignatureSpan">(uptoken, body, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putWithoutKey(uptoken, body, extra, onret) {
  return put(uptoken, null, body, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rpc.postMultipart" id="apidoc.element.qiniu.rpc.postMultipart">
        function <span class="apidocSignatureSpan">qiniu.</span>rpc.postMultipart
        <span class="apidocSignatureSpan">(uri, form, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postMultipart(uri, form, onret) {
  return post(uri, form, form.headers(), onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rpc.postWithForm" id="apidoc.element.qiniu.rpc.postWithForm">
        function <span class="apidocSignatureSpan">qiniu.</span>rpc.postWithForm
        <span class="apidocSignatureSpan">(uri, form, token, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postWithForm(uri, form, token, onret) {
  var headers = {
    'Content-Type': 'application/x-www-form-urlencoded'
  };
  if (token) {
    headers['Authorization'] = token;
  }
  return post(uri, form, headers, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rpc.postWithoutForm" id="apidoc.element.qiniu.rpc.postWithoutForm">
        function <span class="apidocSignatureSpan">qiniu.</span>rpc.postWithoutForm
        <span class="apidocSignatureSpan">(uri, token, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postWithoutForm(uri, token, onret) {
  var headers = {
    'Content-Type': 'application/x-www-form-urlencoded',
  };
  if (token) {
    headers['Authorization'] = token;
  }
  return post(uri, null, headers, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.BatchItemRet" id="apidoc.element.qiniu.rs.BatchItemRet">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.BatchItemRet
        <span class="apidocSignatureSpan">(error, code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BatchItemRet(error, code) {
  this.error = error || null;
  this.code = code || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.BatchStatItemRet" id="apidoc.element.qiniu.rs.BatchStatItemRet">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.BatchStatItemRet
        <span class="apidocSignatureSpan">(data, error, code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BatchStatItemRet(data, error, code) {
  this.data = data;
  this.error = error;
  this.code = code;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client" id="apidoc.element.qiniu.rs.Client">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(client) {
  this.client = client || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchCopy" id="apidoc.element.qiniu.rs.Client.prototype.batchCopy">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.batchCopy
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.batchCopy = function (entries, onret) {
  fileHandle('copy', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchDelete" id="apidoc.element.qiniu.rs.Client.prototype.batchDelete">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.batchDelete
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.batchDelete = function (entries, onret) {
  fileHandle('delete', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchMove" id="apidoc.element.qiniu.rs.Client.prototype.batchMove">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.batchMove
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.batchMove = function (entries, onret) {
  fileHandle('move', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchStat" id="apidoc.element.qiniu.rs.Client.prototype.batchStat">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.batchStat
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.batchStat = function (entries, onret) {
  fileHandle('stat', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.copy" id="apidoc.element.qiniu.rs.Client.prototype.copy">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.copy
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.copy = function (bucketSrc, keySrc, bucketDest, keyDest, onret) {
  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/copy/' + encodedEntryURISrc + '/' + encodedEntryURIDest;

  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.fetch" id="apidoc.element.qiniu.rs.Client.prototype.fetch">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.fetch
        <span class="apidocSignatureSpan">(url, bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.fetch = function (url, bucket, key, onret) {
  var bucketUri = getEncodedEntryUri(bucket, key);
  var fetchUrl = util.urlsafeBase64Encode(url);
  var uri = 'http://iovip.qbox.me/fetch/' + fetchUrl + '/to/' + bucketUri;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy" id="apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.forceBatchCopy
        <span class="apidocSignatureSpan">(entries, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.forceBatchCopy = function (entries, force, onret) {

  fileHandleForce('copy', entries, force, onret);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchMove" id="apidoc.element.qiniu.rs.Client.prototype.forceBatchMove">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.forceBatchMove
        <span class="apidocSignatureSpan">(entries, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.forceBatchMove = function (entries, force, onret) {

  fileHandleForce('move', entries, force, onret);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceCopy" id="apidoc.element.qiniu.rs.Client.prototype.forceCopy">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.forceCopy
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.forceCopy = function (bucketSrc, keySrc, bucketDest, keyDest, force, onret) {

    var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
    var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
    var uri = conf.RS_HOST + '/copy/' + encodedEntryURISrc + '/' + encodedEntryURIDest +'/force/'+force;

    var digest = util.generateAccessToken(uri, null);
    rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceMove" id="apidoc.element.qiniu.rs.Client.prototype.forceMove">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.forceMove
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.forceMove = function (bucketSrc, keySrc, bucketDest, keyDest, force, onret) {

  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/move/' + encodedEntryURISrc + '/' + encodedEntryURIDest +'/force/'+force;

  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.move" id="apidoc.element.qiniu.rs.Client.prototype.move">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.move
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.move = function (bucketSrc, keySrc, bucketDest, keyDest, onret) {
  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/move/' + encodedEntryURISrc + '/' + encodedEntryURIDest;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.remove" id="apidoc.element.qiniu.rs.Client.prototype.remove">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.remove
        <span class="apidocSignatureSpan">(bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.remove = function (bucket, key, onret) {
<span class="apidocCodeCommentSpan">  /*
   * func (this Client) Delete(bucket, key string) (err error)
   * */
</span>  var encodedEntryUri = getEncodedEntryUri(bucket, key);
  var uri = conf.RS_HOST + '/delete/' + encodedEntryUri;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.stat" id="apidoc.element.qiniu.rs.Client.prototype.stat">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Client.prototype.stat
        <span class="apidocSignatureSpan">(bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.Client.prototype.stat = function (bucket, key, onret) {
  var encodedEntryUri = getEncodedEntryUri(bucket, key);
  var uri = conf.RS_HOST + '/stat/' + encodedEntryUri;
  var digest = util.generateAccessToken(uri, null);

  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Entry" id="apidoc.element.qiniu.rs.Entry">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.Entry
        <span class="apidocSignatureSpan">(hash, fsize, putTime, mimeType, endUser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Entry(hash, fsize, putTime, mimeType, endUser) {
  this.hash = hash || null;
  this.fsize = fsize || null;
  this.putTime = putTime || null;
  this.mimeType = mimeType || null;
  this.endUser = endUser || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath" id="apidoc.element.qiniu.rs.EntryPath">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPath
        <span class="apidocSignatureSpan">(bucket, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EntryPath(bucket, key) {
  this.bucket = bucket || null;
  this.key = key || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath.prototype.encode" id="apidoc.element.qiniu.rs.EntryPath.prototype.encode">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPath.prototype.encode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.EntryPath.prototype.encode = function () {
  return getEncodedEntryUri(this.bucket, this.key);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath.prototype.toStr" id="apidoc.element.qiniu.rs.EntryPath.prototype.toStr">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPath.prototype.toStr
        <span class="apidocSignatureSpan">(op)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.EntryPath.prototype.toStr = function (op) {
  return 'op=/' + op + '/' + getEncodedEntryUri(this.bucket, this.key) + '&amp;';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPathPair" id="apidoc.element.qiniu.rs.EntryPathPair">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPathPair
        <span class="apidocSignatureSpan">(src, dest)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EntryPathPair(src, dest) {
  this.src = src || null;
  this.dest = dest || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr" id="apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.EntryPathPair.prototype.toStr
        <span class="apidocSignatureSpan">(op, force)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.EntryPathPair.prototype.toStr = function (op, force) {
  if (typeof(force)=='undefined'){

    return 'op=/' + op + '/' + this.src.encode() + '/' + this.dest.encode() + '&amp;';

  }else{

    return 'op=/' + op + '/' + this.src.encode() + '/' + this.dest.encode() + '/force/' + force + '&amp;';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.GetPolicy" id="apidoc.element.qiniu.rs.GetPolicy">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.GetPolicy
        <span class="apidocSignatureSpan">(expires)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GetPolicy(expires) {
  this.expires = expires || 3600;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest" id="apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.GetPolicy.prototype.makeRequest
        <span class="apidocSignatureSpan">(baseUrl, mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.GetPolicy.prototype.makeRequest = function (baseUrl, mac) {
  if (!mac) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }

  var deadline = this.expires + Math.floor(Date.now() / 1000);

  if (baseUrl.indexOf('?') &gt;= 0) {
    baseUrl += '&amp;e=';
  } else {
    baseUrl += '?e=';
  }
  baseUrl += deadline;

  var signature = util.hmacSha1(baseUrl, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(signature);
  var downloadToken = mac.accessKey + ':' + encodedSign;

  return baseUrl + '&amp;token=' + downloadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy" id="apidoc.element.qiniu.rs.PutPolicy">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy
        <span class="apidocSignatureSpan">(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutPolicy(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl ) {
  this.scope = scope || null;
  this.callbackUrl = callbackUrl || null;
  this.callbackBody = callbackBody || null;
  this.returnUrl = returnUrl || null;
  this.returnBody = returnBody || null;
  this.endUser = endUser || null;
  this.expires = expires || 3600;
  this.persistentOps = persistentOps || null;
  this.persistentNotifyUrl = persistentNotifyUrl || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags" id="apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy.prototype.getFlags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.PutPolicy.prototype.getFlags = function () {
  var flags = {};
  var attrs = ['scope', 'insertOnly', 'saveKey', 'endUser', 'returnUrl', 'returnBody', 'callbackUrl', 'callbackHost', 'callbackBody
', 'callbackBodyType', 'callbackFetchKey', 'persistentOps', 'persistentNotifyUrl', 'persistentPipeline', 'fsizeLimit', 'detectMime
', 'mimeLimit'];

  for (var i = attrs.length - 1; i &gt;= 0; i--) {
    if (this[attrs[i]] !== null) {
      flags[attrs[i]] = this[attrs[i]];
    }
  }

  flags['deadline'] = this.expires + Math.floor(Date.now() / 1000);

  return flags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy.prototype.token" id="apidoc.element.qiniu.rs.PutPolicy.prototype.token">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy.prototype.token
        <span class="apidocSignatureSpan">(mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.PutPolicy.prototype.token = function (mac) {
  if (mac == null) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }
  var flags = this.getFlags();
  var encodedFlags = util.urlsafeBase64Encode(JSON.stringify(flags));
  var encoded = util.hmacSha1(encodedFlags, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(encoded);
  var uploadToken = mac.accessKey + ':' + encodedSign + ':' + encodedFlags;
  return uploadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2" id="apidoc.element.qiniu.rs.PutPolicy2">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy2
        <span class="apidocSignatureSpan">(putPolicyObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutPolicy2(putPolicyObj) {

  if (typeof putPolicyObj !== 'object') {
    return false;
  }

  this.scope = putPolicyObj.scope || null;
  this.expires = putPolicyObj.expires || 3600;
  this.insertOnly = putPolicyObj.insertOnly || null;

  this.saveKey = putPolicyObj.saveKey || null;
  this.endUser = putPolicyObj.endUser || null;

  this.returnUrl = putPolicyObj.returnUrl || null;
  this.returnBody = putPolicyObj.returnBody || null;

  this.callbackUrl = putPolicyObj.callbackUrl || null;
  this.callbackHost = putPolicyObj.callbackHost || null;
  this.callbackBody = putPolicyObj.callbackBody || null;
  this.callbackBodyType = putPolicyObj.callbackBodyType || null;
  this.callbackFetchKey = putPolicyObj.callbackFetchKey || null;

  this.persistentOps = putPolicyObj.persistentOps || null;
  this.persistentNotifyUrl = putPolicyObj.persistentNotifyUrl || null;
  this.persistentPipeline = putPolicyObj.persistentPipeline || null;

  this.fsizeLimit = putPolicyObj.fsizeLimit || null;

  this.fsizeMin = putPolicyObj.fsizeMin || null;

  this.detectMime = putPolicyObj.detectMime || null;

  this.mimeLimit = putPolicyObj.mimeLimit || null;

  this.deleteAfterDays = putPolicyObj.deleteAfterDays || null;

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags" id="apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy2.prototype.getFlags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.PutPolicy2.prototype.getFlags = function () {
  var flags = {};
  var attrs = ['scope', 'insertOnly', 'saveKey', 'endUser', 'returnUrl', 'returnBody', 'callbackUrl', 'callbackHost', 'callbackBody
', 'callbackBodyType', 'callbackFetchKey', 'persistentOps', 'persistentNotifyUrl', 'persistentPipeline', 'fsizeLimit','fsizeMin', '
detectMime', 'mimeLimit', 'deleteAfterDays'];

  for (var i = attrs.length - 1; i &gt;= 0; i--) {
    if (this[attrs[i]] !== null) {
      flags[attrs[i]] = this[attrs[i]];
    }
  }

  flags['deadline'] = this.expires + Math.floor(Date.now() / 1000);

  return flags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.token" id="apidoc.element.qiniu.rs.PutPolicy2.prototype.token">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.PutPolicy2.prototype.token
        <span class="apidocSignatureSpan">(mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rs.PutPolicy2.prototype.token = function (mac) {
  if (mac == null) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }
  var flags = this.getFlags();
  var encodedFlags = util.urlsafeBase64Encode(JSON.stringify(flags));
  var encoded = util.hmacSha1(encodedFlags, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(encoded);
  var uploadToken = mac.accessKey + ':' + encodedSign + ':' + encodedFlags;
  return uploadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.makeBaseUrl" id="apidoc.element.qiniu.rs.makeBaseUrl">
        function <span class="apidocSignatureSpan">qiniu.</span>rs.makeBaseUrl
        <span class="apidocSignatureSpan">(domain, key, query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function makeBaseUrl(domain, key, query) {
  key = new Buffer(key);
  return (/^https?:\/\//.test(domain) ? domain : 'http://' + domain) + '/' + querystring.escape(key) + (query || '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rsf.listPrefix" id="apidoc.element.qiniu.rsf.listPrefix">
        function <span class="apidocSignatureSpan">qiniu.</span>rsf.listPrefix
        <span class="apidocSignatureSpan">(bucket, prefix, marker, limit, delimiter, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rsf.listPrefix = function (bucket, prefix, marker, limit, delimiter, onret) {
  var uri = getPrefixUri(bucket, prefix, marker, limit, delimiter);
  var digest = util.generateAccessToken(uri, null);

  rpc.postWithoutForm(uri, digest, onret)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.base64ToUrlSafe" id="apidoc.element.qiniu.util.base64ToUrlSafe">
        function <span class="apidocSignatureSpan">qiniu.</span>util.base64ToUrlSafe
        <span class="apidocSignatureSpan">(v)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.base64ToUrlSafe = function (v) {
  return v.replace(/\//g, '_').replace(/\+/g, '-');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.generateAccessToken" id="apidoc.element.qiniu.util.generateAccessToken">
        function <span class="apidocSignatureSpan">qiniu.</span>util.generateAccessToken
        <span class="apidocSignatureSpan">(uri, body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.generateAccessToken = function (uri, body) {
  var u = url.parse(uri);
  var path = u.path;
  var access = path + '\n';

  if (body) {
    access += body;
  }

  var digest = exports.hmacSha1(access, conf.SECRET_KEY);
  var safeDigest = exports.base64ToUrlSafe(digest);
  return 'QBox ' + conf.ACCESS_KEY + ':' + safeDigest;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.hmacSha1" id="apidoc.element.qiniu.util.hmacSha1">
        function <span class="apidocSignatureSpan">qiniu.</span>util.hmacSha1
        <span class="apidocSignatureSpan">(encodedFlags, secretKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.hmacSha1 = function (encodedFlags, secretKey) {
<span class="apidocCodeCommentSpan">  /*
   *return value already encoded with base64
  * */
</span>  var hmac = crypto.createHmac('sha1', secretKey);
  hmac.update(encodedFlags);
  return hmac.digest('base64');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.isQiniuCallback" id="apidoc.element.qiniu.util.isQiniuCallback">
        function <span class="apidocSignatureSpan">qiniu.</span>util.isQiniuCallback
        <span class="apidocSignatureSpan">(path, body, callbackAuth)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isQiniuCallback(path, body, callbackAuth) {
  var auth = exports.generateAccessToken(path, body);
  return auth === callbackAuth;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.urlsafeBase64Encode" id="apidoc.element.qiniu.util.urlsafeBase64Encode">
        function <span class="apidocSignatureSpan">qiniu.</span>util.urlsafeBase64Encode
        <span class="apidocSignatureSpan">(jsonFlags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.urlsafeBase64Encode = function (jsonFlags) {
  var encoded = new Buffer(jsonFlags).toString('base64');
  return exports.base64ToUrlSafe(encoded);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.zone.up_host" id="apidoc.element.qiniu.zone.up_host">
        function <span class="apidocSignatureSpan">qiniu.</span>zone.up_host
        <span class="apidocSignatureSpan">(uptoken, conf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">zone.up_host = function (uptoken, conf){

    var version = process.versions;
    var num = version.node.split(".")[0];

    // node  1.0.0, &nbsp;conf&nbsp;
    if(num &lt; 1 ){
        conf.AUTOZONE = false;
    }

    if(!conf.AUTOZONE){
        return;
    }

    var ak = uptoken.toString().split(":")[0];
    var tokenPolicy = uptoken.toString().split(":")[2];
    var tokenPolicyStr = new Buffer(tokenPolicy, 'base64').toString();
    var json_tokenPolicyStr = JSON.parse(tokenPolicyStr);

    var scope = json_tokenPolicyStr.scope;
    var bucket = scope.toString().split(":")[0];

    // bucket &nbsp;
    if((new Date().getTime() &lt; conf.EXPIRE) &amp;&amp; bucket == conf.BUCKET){
        return;
    }

    //bucket
    conf.BUCKET = bucket;

    var res = request('GET', 'http://uc.qbox.me/v1/query?ak=' + ak + '&amp;bucket=' + bucket, {
      'headers': {
        'Content-Type': 'application/json'
      }
    });

    if(res.statusCode == 200){

        var json_str = JSON.parse(res.body.toString());

        //, http
        if(conf.SCHEME == 'http'){
            conf.UP_HOST = json_str.http.up[1];
        }else{
            conf.UP_HOST = json_str.https.up[0];
        }

        conf.EXPIRE = 86400 + new Date().getTime();

    }else{
        var err = new Error('Server responded with status code ' + res.statusCode + ':\n' + res.body.toString());
        err.statusCode = res.statusCode;
        err.headers = res.headers;
        err.body = res.body;
        throw err;
    }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop" id="apidoc.module.qiniu.fop">module qiniu.fop</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.Exif" id="apidoc.element.qiniu.fop.Exif">
        function <span class="apidocSignatureSpan">qiniu.fop.</span>Exif
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Exif() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageInfo" id="apidoc.element.qiniu.fop.ImageInfo">
        function <span class="apidocSignatureSpan">qiniu.fop.</span>ImageInfo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ImageInfo() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageView" id="apidoc.element.qiniu.fop.ImageView">
        function <span class="apidocSignatureSpan">qiniu.fop.</span>ImageView
        <span class="apidocSignatureSpan">(mode, width, height, quality, format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ImageView(mode, width, height, quality, format) {
  this.mode = mode || 1;
  this.width = width || 0;
  this.height = height || 0;
  this.quality = quality || 0;
  this.format = format || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.fop.pfop" id="apidoc.element.qiniu.fop.pfop">
        function <span class="apidocSignatureSpan">qiniu.fop.</span>pfop
        <span class="apidocSignatureSpan">(bucket, key, fops, opts, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pfop(bucket, key, fops, opts, onret) {

  opts = opts || {};

  param = {
    bucket: bucket,
    key: key,
    fops: fops
  };
  if (opts.notifyURL) {
    param.notifyURL = opts.notifyURL;
  } else {
    param.notifyURL = 'www.test.com';
  }
  if (opts.force) {
    param.force = 1;
  }
  if (opts.pipeline) {
    param.pipeline = opts.pipeline;
  }

  var uri = conf.API_HOST + '/pfop/';
  var body = querystring.stringify(param);
  var auth = util.generateAccessToken(uri, body);
  rpc.postWithForm(uri, body, auth, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.Exif" id="apidoc.module.qiniu.fop.Exif">module qiniu.fop.Exif</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.Exif.Exif" id="apidoc.element.qiniu.fop.Exif.Exif">
        function <span class="apidocSignatureSpan">qiniu.fop.</span>Exif
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Exif() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.Exif.prototype" id="apidoc.module.qiniu.fop.Exif.prototype">module qiniu.fop.Exif.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.Exif.prototype.makeRequest" id="apidoc.element.qiniu.fop.Exif.prototype.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.fop.Exif.prototype.</span>makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeRequest = function (url) {
  return url + '?exif'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.Exif.prototype.makeRequest" id="apidoc.module.qiniu.fop.Exif.prototype.makeRequest">module qiniu.fop.Exif.prototype.makeRequest</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.Exif.prototype.makeRequest.makeRequest" id="apidoc.element.qiniu.fop.Exif.prototype.makeRequest.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.fop.Exif.prototype.</span>makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeRequest = function (url) {
  return url + '?exif'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.ImageInfo" id="apidoc.module.qiniu.fop.ImageInfo">module qiniu.fop.ImageInfo</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageInfo.ImageInfo" id="apidoc.element.qiniu.fop.ImageInfo.ImageInfo">
        function <span class="apidocSignatureSpan">qiniu.fop.</span>ImageInfo
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ImageInfo() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.ImageInfo.prototype" id="apidoc.module.qiniu.fop.ImageInfo.prototype">module qiniu.fop.ImageInfo.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest" id="apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.fop.ImageInfo.prototype.</span>makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeRequest = function (url) {
  return url + '?imageInfo'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.ImageInfo.prototype.makeRequest" id="apidoc.module.qiniu.fop.ImageInfo.prototype.makeRequest">module qiniu.fop.ImageInfo.prototype.makeRequest</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest.makeRequest" id="apidoc.element.qiniu.fop.ImageInfo.prototype.makeRequest.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.fop.ImageInfo.prototype.</span>makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeRequest = function (url) {
  return url + '?imageInfo'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.ImageView" id="apidoc.module.qiniu.fop.ImageView">module qiniu.fop.ImageView</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageView.ImageView" id="apidoc.element.qiniu.fop.ImageView.ImageView">
        function <span class="apidocSignatureSpan">qiniu.fop.</span>ImageView
        <span class="apidocSignatureSpan">(mode, width, height, quality, format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ImageView(mode, width, height, quality, format) {
  this.mode = mode || 1;
  this.width = width || 0;
  this.height = height || 0;
  this.quality = quality || 0;
  this.format = format || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.ImageView.prototype" id="apidoc.module.qiniu.fop.ImageView.prototype">module qiniu.fop.ImageView.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageView.prototype.makeRequest" id="apidoc.element.qiniu.fop.ImageView.prototype.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.fop.ImageView.prototype.</span>makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeRequest = function (url) {
  url += '?imageView2/' + this.mode;

  if (this.width &gt; 0) {
    url += '/w/' + this.width;
  }

  if (this.height &gt; 0) {
    url += '/h/' + this.height;
  }

  if (this.quality &gt; 0) {
    url += '/q/' + this.quality;
  }

  if (this.format) {
    url += '/format/' + this.format;
  }

  return url;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.ImageView.prototype.makeRequest" id="apidoc.module.qiniu.fop.ImageView.prototype.makeRequest">module qiniu.fop.ImageView.prototype.makeRequest</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.ImageView.prototype.makeRequest.makeRequest" id="apidoc.element.qiniu.fop.ImageView.prototype.makeRequest.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.fop.ImageView.prototype.</span>makeRequest
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeRequest = function (url) {
  url += '?imageView2/' + this.mode;

  if (this.width &gt; 0) {
    url += '/w/' + this.width;
  }

  if (this.height &gt; 0) {
    url += '/h/' + this.height;
  }

  if (this.quality &gt; 0) {
    url += '/q/' + this.quality;
  }

  if (this.format) {
    url += '/format/' + this.format;
  }

  return url;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.fop.pfop" id="apidoc.module.qiniu.fop.pfop">module qiniu.fop.pfop</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.fop.pfop.pfop" id="apidoc.element.qiniu.fop.pfop.pfop">
        function <span class="apidocSignatureSpan">qiniu.fop.</span>pfop
        <span class="apidocSignatureSpan">(bucket, key, fops, opts, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pfop(bucket, key, fops, opts, onret) {

  opts = opts || {};

  param = {
    bucket: bucket,
    key: key,
    fops: fops
  };
  if (opts.notifyURL) {
    param.notifyURL = opts.notifyURL;
  } else {
    param.notifyURL = 'www.test.com';
  }
  if (opts.force) {
    param.force = 1;
  }
  if (opts.pipeline) {
    param.pipeline = opts.pipeline;
  }

  var uri = conf.API_HOST + '/pfop/';
  var body = querystring.stringify(param);
  var auth = util.generateAccessToken(uri, body);
  rpc.postWithForm(uri, body, auth, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.io" id="apidoc.module.qiniu.io">module qiniu.io</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.io.PutExtra" id="apidoc.element.qiniu.io.PutExtra">
        function <span class="apidocSignatureSpan">qiniu.io.</span>PutExtra
        <span class="apidocSignatureSpan">(params, mimeType, crc32, checkCrc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutExtra(params, mimeType, crc32, checkCrc) {
  this.params = params || {};
  this.mimeType = mimeType || null;
  this.crc32 = crc32 || null;
  this.checkCrc = checkCrc || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.PutRet" id="apidoc.element.qiniu.io.PutRet">
        function <span class="apidocSignatureSpan">qiniu.io.</span>PutRet
        <span class="apidocSignatureSpan">(hash, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutRet(hash, key) {
  this.hash = hash || null;
  this.key = key || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.put" id="apidoc.element.qiniu.io.put">
        function <span class="apidocSignatureSpan">qiniu.io.</span>put
        <span class="apidocSignatureSpan">(uptoken, key, body, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function put(uptoken, key, body, extra, onret) {
  var rs = new Readable();
  rs.push(body);
  rs.push(null);

  if (!extra) {
    extra = new PutExtra();
  }
  if (extra.checkCrc == 1) {
    var bodyCrc32 = getCrc32(body);
    extra.crc32 = '' + parseInt(bodyCrc32, 16);
  } else if (extra.checkCrc == 2 &amp;&amp; extra.crc32) {
    extra.crc32 = '' + extra.crc32
  }
  return putReadable(uptoken, key, rs, extra, onret)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.putFile" id="apidoc.element.qiniu.io.putFile">
        function <span class="apidocSignatureSpan">qiniu.io.</span>putFile
        <span class="apidocSignatureSpan">(uptoken, key, loadFile, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putFile(uptoken, key, loadFile, extra, onret) {

  var rs = fs.createReadStream(loadFile);

  if (!extra) {
    extra = new PutExtra();
  }
  if (extra.checkCrc == 1) {
    var fileCrc32 = getCrc32(fs.readFileSync(loadFile));
    extra.crc32 = '' + parseInt(fileCrc32, 16);
  } else if (extra.checkCrc == 2 &amp;&amp; extra.crc32) {
    extra.crc32 = '' + extra.crc32
  }
  if (!extra.mimeType) {
    extra.mimeType = mime.lookup(loadFile);
  }

  return putReadable(uptoken, key, rs, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.putFileWithoutKey" id="apidoc.element.qiniu.io.putFileWithoutKey">
        function <span class="apidocSignatureSpan">qiniu.io.</span>putFileWithoutKey
        <span class="apidocSignatureSpan">(uptoken, loadFile, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putFileWithoutKey(uptoken, loadFile, extra, onret) {
  return putFile(uptoken, null, loadFile, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.putReadable" id="apidoc.element.qiniu.io.putReadable">
        function <span class="apidocSignatureSpan">qiniu.io.</span>putReadable
        <span class="apidocSignatureSpan">(uptoken, key, rs, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putReadable(uptoken, key, rs, extra, onret) {
  if (!extra) {
    extra = new PutExtra();
  }
  if (!extra.mimeType) {
    extra.mimeType = 'application/octet-stream';
  }

  if (!key) {
    key = exports.UNDEFINED_KEY;
  }

  rs.on("error", function (err) {
      onret({code: -1, error: err.toString()}, {});
  });

  var form = getMultipart(uptoken, key, rs, extra);
  // &nbsp;
  zone.up_host(uptoken, conf);

  return rpc.postMultipart(conf.UP_HOST, form, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.io.putWithoutKey" id="apidoc.element.qiniu.io.putWithoutKey">
        function <span class="apidocSignatureSpan">qiniu.io.</span>putWithoutKey
        <span class="apidocSignatureSpan">(uptoken, body, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putWithoutKey(uptoken, body, extra, onret) {
  return put(uptoken, null, body, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.io.PutExtra" id="apidoc.module.qiniu.io.PutExtra">module qiniu.io.PutExtra</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.io.PutExtra.PutExtra" id="apidoc.element.qiniu.io.PutExtra.PutExtra">
        function <span class="apidocSignatureSpan">qiniu.io.</span>PutExtra
        <span class="apidocSignatureSpan">(params, mimeType, crc32, checkCrc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutExtra(params, mimeType, crc32, checkCrc) {
  this.params = params || {};
  this.mimeType = mimeType || null;
  this.crc32 = crc32 || null;
  this.checkCrc = checkCrc || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.io.PutRet" id="apidoc.module.qiniu.io.PutRet">module qiniu.io.PutRet</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.io.PutRet.PutRet" id="apidoc.element.qiniu.io.PutRet.PutRet">
        function <span class="apidocSignatureSpan">qiniu.io.</span>PutRet
        <span class="apidocSignatureSpan">(hash, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutRet(hash, key) {
  this.hash = hash || null;
  this.key = key || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.io.put" id="apidoc.module.qiniu.io.put">module qiniu.io.put</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.io.put.put" id="apidoc.element.qiniu.io.put.put">
        function <span class="apidocSignatureSpan">qiniu.io.</span>put
        <span class="apidocSignatureSpan">(uptoken, key, body, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function put(uptoken, key, body, extra, onret) {
  var rs = new Readable();
  rs.push(body);
  rs.push(null);

  if (!extra) {
    extra = new PutExtra();
  }
  if (extra.checkCrc == 1) {
    var bodyCrc32 = getCrc32(body);
    extra.crc32 = '' + parseInt(bodyCrc32, 16);
  } else if (extra.checkCrc == 2 &amp;&amp; extra.crc32) {
    extra.crc32 = '' + extra.crc32
  }
  return putReadable(uptoken, key, rs, extra, onret)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.io.putFile" id="apidoc.module.qiniu.io.putFile">module qiniu.io.putFile</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.io.putFile.putFile" id="apidoc.element.qiniu.io.putFile.putFile">
        function <span class="apidocSignatureSpan">qiniu.io.</span>putFile
        <span class="apidocSignatureSpan">(uptoken, key, loadFile, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putFile(uptoken, key, loadFile, extra, onret) {

  var rs = fs.createReadStream(loadFile);

  if (!extra) {
    extra = new PutExtra();
  }
  if (extra.checkCrc == 1) {
    var fileCrc32 = getCrc32(fs.readFileSync(loadFile));
    extra.crc32 = '' + parseInt(fileCrc32, 16);
  } else if (extra.checkCrc == 2 &amp;&amp; extra.crc32) {
    extra.crc32 = '' + extra.crc32
  }
  if (!extra.mimeType) {
    extra.mimeType = mime.lookup(loadFile);
  }

  return putReadable(uptoken, key, rs, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.io.putFileWithoutKey" id="apidoc.module.qiniu.io.putFileWithoutKey">module qiniu.io.putFileWithoutKey</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.io.putFileWithoutKey.putFileWithoutKey" id="apidoc.element.qiniu.io.putFileWithoutKey.putFileWithoutKey">
        function <span class="apidocSignatureSpan">qiniu.io.</span>putFileWithoutKey
        <span class="apidocSignatureSpan">(uptoken, loadFile, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putFileWithoutKey(uptoken, loadFile, extra, onret) {
  return putFile(uptoken, null, loadFile, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.io.putReadable" id="apidoc.module.qiniu.io.putReadable">module qiniu.io.putReadable</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.io.putReadable.putReadable" id="apidoc.element.qiniu.io.putReadable.putReadable">
        function <span class="apidocSignatureSpan">qiniu.io.</span>putReadable
        <span class="apidocSignatureSpan">(uptoken, key, rs, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putReadable(uptoken, key, rs, extra, onret) {
  if (!extra) {
    extra = new PutExtra();
  }
  if (!extra.mimeType) {
    extra.mimeType = 'application/octet-stream';
  }

  if (!key) {
    key = exports.UNDEFINED_KEY;
  }

  rs.on("error", function (err) {
      onret({code: -1, error: err.toString()}, {});
  });

  var form = getMultipart(uptoken, key, rs, extra);
  // &nbsp;
  zone.up_host(uptoken, conf);

  return rpc.postMultipart(conf.UP_HOST, form, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.io.putWithoutKey" id="apidoc.module.qiniu.io.putWithoutKey">module qiniu.io.putWithoutKey</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.io.putWithoutKey.putWithoutKey" id="apidoc.element.qiniu.io.putWithoutKey.putWithoutKey">
        function <span class="apidocSignatureSpan">qiniu.io.</span>putWithoutKey
        <span class="apidocSignatureSpan">(uptoken, body, extra, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function putWithoutKey(uptoken, body, extra, onret) {
  return put(uptoken, null, body, extra, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rpc" id="apidoc.module.qiniu.rpc">module qiniu.rpc</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rpc.postMultipart" id="apidoc.element.qiniu.rpc.postMultipart">
        function <span class="apidocSignatureSpan">qiniu.rpc.</span>postMultipart
        <span class="apidocSignatureSpan">(uri, form, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postMultipart(uri, form, onret) {
  return post(uri, form, form.headers(), onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rpc.postWithForm" id="apidoc.element.qiniu.rpc.postWithForm">
        function <span class="apidocSignatureSpan">qiniu.rpc.</span>postWithForm
        <span class="apidocSignatureSpan">(uri, form, token, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postWithForm(uri, form, token, onret) {
  var headers = {
    'Content-Type': 'application/x-www-form-urlencoded'
  };
  if (token) {
    headers['Authorization'] = token;
  }
  return post(uri, form, headers, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rpc.postWithoutForm" id="apidoc.element.qiniu.rpc.postWithoutForm">
        function <span class="apidocSignatureSpan">qiniu.rpc.</span>postWithoutForm
        <span class="apidocSignatureSpan">(uri, token, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postWithoutForm(uri, token, onret) {
  var headers = {
    'Content-Type': 'application/x-www-form-urlencoded',
  };
  if (token) {
    headers['Authorization'] = token;
  }
  return post(uri, null, headers, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rpc.postMultipart" id="apidoc.module.qiniu.rpc.postMultipart">module qiniu.rpc.postMultipart</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rpc.postMultipart.postMultipart" id="apidoc.element.qiniu.rpc.postMultipart.postMultipart">
        function <span class="apidocSignatureSpan">qiniu.rpc.</span>postMultipart
        <span class="apidocSignatureSpan">(uri, form, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postMultipart(uri, form, onret) {
  return post(uri, form, form.headers(), onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rpc.postWithForm" id="apidoc.module.qiniu.rpc.postWithForm">module qiniu.rpc.postWithForm</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rpc.postWithForm.postWithForm" id="apidoc.element.qiniu.rpc.postWithForm.postWithForm">
        function <span class="apidocSignatureSpan">qiniu.rpc.</span>postWithForm
        <span class="apidocSignatureSpan">(uri, form, token, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postWithForm(uri, form, token, onret) {
  var headers = {
    'Content-Type': 'application/x-www-form-urlencoded'
  };
  if (token) {
    headers['Authorization'] = token;
  }
  return post(uri, form, headers, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rpc.postWithoutForm" id="apidoc.module.qiniu.rpc.postWithoutForm">module qiniu.rpc.postWithoutForm</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rpc.postWithoutForm.postWithoutForm" id="apidoc.element.qiniu.rpc.postWithoutForm.postWithoutForm">
        function <span class="apidocSignatureSpan">qiniu.rpc.</span>postWithoutForm
        <span class="apidocSignatureSpan">(uri, token, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function postWithoutForm(uri, token, onret) {
  var headers = {
    'Content-Type': 'application/x-www-form-urlencoded',
  };
  if (token) {
    headers['Authorization'] = token;
  }
  return post(uri, null, headers, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs" id="apidoc.module.qiniu.rs">module qiniu.rs</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.BatchItemRet" id="apidoc.element.qiniu.rs.BatchItemRet">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>BatchItemRet
        <span class="apidocSignatureSpan">(error, code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BatchItemRet(error, code) {
  this.error = error || null;
  this.code = code || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.BatchStatItemRet" id="apidoc.element.qiniu.rs.BatchStatItemRet">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>BatchStatItemRet
        <span class="apidocSignatureSpan">(data, error, code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BatchStatItemRet(data, error, code) {
  this.data = data;
  this.error = error;
  this.code = code;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client" id="apidoc.element.qiniu.rs.Client">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>Client
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(client) {
  this.client = client || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Entry" id="apidoc.element.qiniu.rs.Entry">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>Entry
        <span class="apidocSignatureSpan">(hash, fsize, putTime, mimeType, endUser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Entry(hash, fsize, putTime, mimeType, endUser) {
  this.hash = hash || null;
  this.fsize = fsize || null;
  this.putTime = putTime || null;
  this.mimeType = mimeType || null;
  this.endUser = endUser || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath" id="apidoc.element.qiniu.rs.EntryPath">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>EntryPath
        <span class="apidocSignatureSpan">(bucket, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EntryPath(bucket, key) {
  this.bucket = bucket || null;
  this.key = key || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPathPair" id="apidoc.element.qiniu.rs.EntryPathPair">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>EntryPathPair
        <span class="apidocSignatureSpan">(src, dest)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EntryPathPair(src, dest) {
  this.src = src || null;
  this.dest = dest || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.GetPolicy" id="apidoc.element.qiniu.rs.GetPolicy">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>GetPolicy
        <span class="apidocSignatureSpan">(expires)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GetPolicy(expires) {
  this.expires = expires || 3600;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy" id="apidoc.element.qiniu.rs.PutPolicy">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>PutPolicy
        <span class="apidocSignatureSpan">(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutPolicy(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl ) {
  this.scope = scope || null;
  this.callbackUrl = callbackUrl || null;
  this.callbackBody = callbackBody || null;
  this.returnUrl = returnUrl || null;
  this.returnBody = returnBody || null;
  this.endUser = endUser || null;
  this.expires = expires || 3600;
  this.persistentOps = persistentOps || null;
  this.persistentNotifyUrl = persistentNotifyUrl || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2" id="apidoc.element.qiniu.rs.PutPolicy2">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>PutPolicy2
        <span class="apidocSignatureSpan">(putPolicyObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutPolicy2(putPolicyObj) {

  if (typeof putPolicyObj !== 'object') {
    return false;
  }

  this.scope = putPolicyObj.scope || null;
  this.expires = putPolicyObj.expires || 3600;
  this.insertOnly = putPolicyObj.insertOnly || null;

  this.saveKey = putPolicyObj.saveKey || null;
  this.endUser = putPolicyObj.endUser || null;

  this.returnUrl = putPolicyObj.returnUrl || null;
  this.returnBody = putPolicyObj.returnBody || null;

  this.callbackUrl = putPolicyObj.callbackUrl || null;
  this.callbackHost = putPolicyObj.callbackHost || null;
  this.callbackBody = putPolicyObj.callbackBody || null;
  this.callbackBodyType = putPolicyObj.callbackBodyType || null;
  this.callbackFetchKey = putPolicyObj.callbackFetchKey || null;

  this.persistentOps = putPolicyObj.persistentOps || null;
  this.persistentNotifyUrl = putPolicyObj.persistentNotifyUrl || null;
  this.persistentPipeline = putPolicyObj.persistentPipeline || null;

  this.fsizeLimit = putPolicyObj.fsizeLimit || null;

  this.fsizeMin = putPolicyObj.fsizeMin || null;

  this.detectMime = putPolicyObj.detectMime || null;

  this.mimeLimit = putPolicyObj.mimeLimit || null;

  this.deleteAfterDays = putPolicyObj.deleteAfterDays || null;

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.makeBaseUrl" id="apidoc.element.qiniu.rs.makeBaseUrl">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>makeBaseUrl
        <span class="apidocSignatureSpan">(domain, key, query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function makeBaseUrl(domain, key, query) {
  key = new Buffer(key);
  return (/^https?:\/\//.test(domain) ? domain : 'http://' + domain) + '/' + querystring.escape(key) + (query || '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.BatchItemRet" id="apidoc.module.qiniu.rs.BatchItemRet">module qiniu.rs.BatchItemRet</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.BatchItemRet.BatchItemRet" id="apidoc.element.qiniu.rs.BatchItemRet.BatchItemRet">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>BatchItemRet
        <span class="apidocSignatureSpan">(error, code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BatchItemRet(error, code) {
  this.error = error || null;
  this.code = code || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.BatchStatItemRet" id="apidoc.module.qiniu.rs.BatchStatItemRet">module qiniu.rs.BatchStatItemRet</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.BatchStatItemRet.BatchStatItemRet" id="apidoc.element.qiniu.rs.BatchStatItemRet.BatchStatItemRet">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>BatchStatItemRet
        <span class="apidocSignatureSpan">(data, error, code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BatchStatItemRet(data, error, code) {
  this.data = data;
  this.error = error;
  this.code = code;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client" id="apidoc.module.qiniu.rs.Client">module qiniu.rs.Client</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.Client" id="apidoc.element.qiniu.rs.Client.Client">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>Client
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(client) {
  this.client = client || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype" id="apidoc.module.qiniu.rs.Client.prototype">module qiniu.rs.Client.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchCopy" id="apidoc.element.qiniu.rs.Client.prototype.batchCopy">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchCopy
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchCopy = function (entries, onret) {
  fileHandle('copy', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchDelete" id="apidoc.element.qiniu.rs.Client.prototype.batchDelete">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchDelete
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchDelete = function (entries, onret) {
  fileHandle('delete', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchMove" id="apidoc.element.qiniu.rs.Client.prototype.batchMove">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchMove
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchMove = function (entries, onret) {
  fileHandle('move', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchStat" id="apidoc.element.qiniu.rs.Client.prototype.batchStat">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchStat
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchStat = function (entries, onret) {
  fileHandle('stat', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.copy" id="apidoc.element.qiniu.rs.Client.prototype.copy">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>copy
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">copy = function (bucketSrc, keySrc, bucketDest, keyDest, onret) {
  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/copy/' + encodedEntryURISrc + '/' + encodedEntryURIDest;

  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.fetch" id="apidoc.element.qiniu.rs.Client.prototype.fetch">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>fetch
        <span class="apidocSignatureSpan">(url, bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetch = function (url, bucket, key, onret) {
  var bucketUri = getEncodedEntryUri(bucket, key);
  var fetchUrl = util.urlsafeBase64Encode(url);
  var uri = 'http://iovip.qbox.me/fetch/' + fetchUrl + '/to/' + bucketUri;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy" id="apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceBatchCopy
        <span class="apidocSignatureSpan">(entries, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forceBatchCopy = function (entries, force, onret) {

  fileHandleForce('copy', entries, force, onret);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchMove" id="apidoc.element.qiniu.rs.Client.prototype.forceBatchMove">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceBatchMove
        <span class="apidocSignatureSpan">(entries, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forceBatchMove = function (entries, force, onret) {

  fileHandleForce('move', entries, force, onret);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceCopy" id="apidoc.element.qiniu.rs.Client.prototype.forceCopy">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceCopy
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forceCopy = function (bucketSrc, keySrc, bucketDest, keyDest, force, onret) {

    var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
    var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
    var uri = conf.RS_HOST + '/copy/' + encodedEntryURISrc + '/' + encodedEntryURIDest +'/force/'+force;

    var digest = util.generateAccessToken(uri, null);
    rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceMove" id="apidoc.element.qiniu.rs.Client.prototype.forceMove">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceMove
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forceMove = function (bucketSrc, keySrc, bucketDest, keyDest, force, onret) {

  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/move/' + encodedEntryURISrc + '/' + encodedEntryURIDest +'/force/'+force;

  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.move" id="apidoc.element.qiniu.rs.Client.prototype.move">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>move
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">move = function (bucketSrc, keySrc, bucketDest, keyDest, onret) {
  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/move/' + encodedEntryURISrc + '/' + encodedEntryURIDest;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.remove" id="apidoc.element.qiniu.rs.Client.prototype.remove">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>remove
        <span class="apidocSignatureSpan">(bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (bucket, key, onret) {
<span class="apidocCodeCommentSpan">  /*
   * func (this Client) Delete(bucket, key string) (err error)
   * */
</span>  var encodedEntryUri = getEncodedEntryUri(bucket, key);
  var uri = conf.RS_HOST + '/delete/' + encodedEntryUri;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.stat" id="apidoc.element.qiniu.rs.Client.prototype.stat">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>stat
        <span class="apidocSignatureSpan">(bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stat = function (bucket, key, onret) {
  var encodedEntryUri = getEncodedEntryUri(bucket, key);
  var uri = conf.RS_HOST + '/stat/' + encodedEntryUri;
  var digest = util.generateAccessToken(uri, null);

  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.batchCopy" id="apidoc.module.qiniu.rs.Client.prototype.batchCopy">module qiniu.rs.Client.prototype.batchCopy</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchCopy.batchCopy" id="apidoc.element.qiniu.rs.Client.prototype.batchCopy.batchCopy">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchCopy
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchCopy = function (entries, onret) {
  fileHandle('copy', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.batchDelete" id="apidoc.module.qiniu.rs.Client.prototype.batchDelete">module qiniu.rs.Client.prototype.batchDelete</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchDelete.batchDelete" id="apidoc.element.qiniu.rs.Client.prototype.batchDelete.batchDelete">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchDelete
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchDelete = function (entries, onret) {
  fileHandle('delete', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.batchMove" id="apidoc.module.qiniu.rs.Client.prototype.batchMove">module qiniu.rs.Client.prototype.batchMove</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchMove.batchMove" id="apidoc.element.qiniu.rs.Client.prototype.batchMove.batchMove">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchMove
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchMove = function (entries, onret) {
  fileHandle('move', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.batchStat" id="apidoc.module.qiniu.rs.Client.prototype.batchStat">module qiniu.rs.Client.prototype.batchStat</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.batchStat.batchStat" id="apidoc.element.qiniu.rs.Client.prototype.batchStat.batchStat">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>batchStat
        <span class="apidocSignatureSpan">(entries, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">batchStat = function (entries, onret) {
  fileHandle('stat', entries, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.copy" id="apidoc.module.qiniu.rs.Client.prototype.copy">module qiniu.rs.Client.prototype.copy</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.copy.copy" id="apidoc.element.qiniu.rs.Client.prototype.copy.copy">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>copy
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">copy = function (bucketSrc, keySrc, bucketDest, keyDest, onret) {
  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/copy/' + encodedEntryURISrc + '/' + encodedEntryURIDest;

  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.fetch" id="apidoc.module.qiniu.rs.Client.prototype.fetch">module qiniu.rs.Client.prototype.fetch</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.fetch.fetch" id="apidoc.element.qiniu.rs.Client.prototype.fetch.fetch">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>fetch
        <span class="apidocSignatureSpan">(url, bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetch = function (url, bucket, key, onret) {
  var bucketUri = getEncodedEntryUri(bucket, key);
  var fetchUrl = util.urlsafeBase64Encode(url);
  var uri = 'http://iovip.qbox.me/fetch/' + fetchUrl + '/to/' + bucketUri;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.forceBatchCopy" id="apidoc.module.qiniu.rs.Client.prototype.forceBatchCopy">module qiniu.rs.Client.prototype.forceBatchCopy</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy.forceBatchCopy" id="apidoc.element.qiniu.rs.Client.prototype.forceBatchCopy.forceBatchCopy">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceBatchCopy
        <span class="apidocSignatureSpan">(entries, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forceBatchCopy = function (entries, force, onret) {

  fileHandleForce('copy', entries, force, onret);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.forceBatchMove" id="apidoc.module.qiniu.rs.Client.prototype.forceBatchMove">module qiniu.rs.Client.prototype.forceBatchMove</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceBatchMove.forceBatchMove" id="apidoc.element.qiniu.rs.Client.prototype.forceBatchMove.forceBatchMove">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceBatchMove
        <span class="apidocSignatureSpan">(entries, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forceBatchMove = function (entries, force, onret) {

  fileHandleForce('move', entries, force, onret);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.forceCopy" id="apidoc.module.qiniu.rs.Client.prototype.forceCopy">module qiniu.rs.Client.prototype.forceCopy</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceCopy.forceCopy" id="apidoc.element.qiniu.rs.Client.prototype.forceCopy.forceCopy">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceCopy
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forceCopy = function (bucketSrc, keySrc, bucketDest, keyDest, force, onret) {

    var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
    var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
    var uri = conf.RS_HOST + '/copy/' + encodedEntryURISrc + '/' + encodedEntryURIDest +'/force/'+force;

    var digest = util.generateAccessToken(uri, null);
    rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.forceMove" id="apidoc.module.qiniu.rs.Client.prototype.forceMove">module qiniu.rs.Client.prototype.forceMove</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.forceMove.forceMove" id="apidoc.element.qiniu.rs.Client.prototype.forceMove.forceMove">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>forceMove
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, force, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forceMove = function (bucketSrc, keySrc, bucketDest, keyDest, force, onret) {

  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/move/' + encodedEntryURISrc + '/' + encodedEntryURIDest +'/force/'+force;

  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.move" id="apidoc.module.qiniu.rs.Client.prototype.move">module qiniu.rs.Client.prototype.move</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.move.move" id="apidoc.element.qiniu.rs.Client.prototype.move.move">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>move
        <span class="apidocSignatureSpan">(bucketSrc, keySrc, bucketDest, keyDest, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">move = function (bucketSrc, keySrc, bucketDest, keyDest, onret) {
  var encodedEntryURISrc = getEncodedEntryUri(bucketSrc, keySrc);
  var encodedEntryURIDest = getEncodedEntryUri(bucketDest, keyDest);
  var uri = conf.RS_HOST + '/move/' + encodedEntryURISrc + '/' + encodedEntryURIDest;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.remove" id="apidoc.module.qiniu.rs.Client.prototype.remove">module qiniu.rs.Client.prototype.remove</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.remove.remove" id="apidoc.element.qiniu.rs.Client.prototype.remove.remove">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>remove
        <span class="apidocSignatureSpan">(bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (bucket, key, onret) {
<span class="apidocCodeCommentSpan">  /*
   * func (this Client) Delete(bucket, key string) (err error)
   * */
</span>  var encodedEntryUri = getEncodedEntryUri(bucket, key);
  var uri = conf.RS_HOST + '/delete/' + encodedEntryUri;
  var digest = util.generateAccessToken(uri, null);
  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Client.prototype.stat" id="apidoc.module.qiniu.rs.Client.prototype.stat">module qiniu.rs.Client.prototype.stat</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Client.prototype.stat.stat" id="apidoc.element.qiniu.rs.Client.prototype.stat.stat">
        function <span class="apidocSignatureSpan">qiniu.rs.Client.prototype.</span>stat
        <span class="apidocSignatureSpan">(bucket, key, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stat = function (bucket, key, onret) {
  var encodedEntryUri = getEncodedEntryUri(bucket, key);
  var uri = conf.RS_HOST + '/stat/' + encodedEntryUri;
  var digest = util.generateAccessToken(uri, null);

  rpc.postWithoutForm(uri, digest, onret);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.Entry" id="apidoc.module.qiniu.rs.Entry">module qiniu.rs.Entry</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.Entry.Entry" id="apidoc.element.qiniu.rs.Entry.Entry">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>Entry
        <span class="apidocSignatureSpan">(hash, fsize, putTime, mimeType, endUser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Entry(hash, fsize, putTime, mimeType, endUser) {
  this.hash = hash || null;
  this.fsize = fsize || null;
  this.putTime = putTime || null;
  this.mimeType = mimeType || null;
  this.endUser = endUser || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.EntryPath" id="apidoc.module.qiniu.rs.EntryPath">module qiniu.rs.EntryPath</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath.EntryPath" id="apidoc.element.qiniu.rs.EntryPath.EntryPath">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>EntryPath
        <span class="apidocSignatureSpan">(bucket, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EntryPath(bucket, key) {
  this.bucket = bucket || null;
  this.key = key || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.EntryPath.prototype" id="apidoc.module.qiniu.rs.EntryPath.prototype">module qiniu.rs.EntryPath.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath.prototype.encode" id="apidoc.element.qiniu.rs.EntryPath.prototype.encode">
        function <span class="apidocSignatureSpan">qiniu.rs.EntryPath.prototype.</span>encode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function () {
  return getEncodedEntryUri(this.bucket, this.key);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath.prototype.toStr" id="apidoc.element.qiniu.rs.EntryPath.prototype.toStr">
        function <span class="apidocSignatureSpan">qiniu.rs.EntryPath.prototype.</span>toStr
        <span class="apidocSignatureSpan">(op)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toStr = function (op) {
  return 'op=/' + op + '/' + getEncodedEntryUri(this.bucket, this.key) + '&amp;';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.EntryPath.prototype.encode" id="apidoc.module.qiniu.rs.EntryPath.prototype.encode">module qiniu.rs.EntryPath.prototype.encode</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath.prototype.encode.encode" id="apidoc.element.qiniu.rs.EntryPath.prototype.encode.encode">
        function <span class="apidocSignatureSpan">qiniu.rs.EntryPath.prototype.</span>encode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">encode = function () {
  return getEncodedEntryUri(this.bucket, this.key);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.EntryPath.prototype.toStr" id="apidoc.module.qiniu.rs.EntryPath.prototype.toStr">module qiniu.rs.EntryPath.prototype.toStr</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPath.prototype.toStr.toStr" id="apidoc.element.qiniu.rs.EntryPath.prototype.toStr.toStr">
        function <span class="apidocSignatureSpan">qiniu.rs.EntryPath.prototype.</span>toStr
        <span class="apidocSignatureSpan">(op)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toStr = function (op) {
  return 'op=/' + op + '/' + getEncodedEntryUri(this.bucket, this.key) + '&amp;';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.EntryPathPair" id="apidoc.module.qiniu.rs.EntryPathPair">module qiniu.rs.EntryPathPair</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPathPair.EntryPathPair" id="apidoc.element.qiniu.rs.EntryPathPair.EntryPathPair">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>EntryPathPair
        <span class="apidocSignatureSpan">(src, dest)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EntryPathPair(src, dest) {
  this.src = src || null;
  this.dest = dest || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.EntryPathPair.prototype" id="apidoc.module.qiniu.rs.EntryPathPair.prototype">module qiniu.rs.EntryPathPair.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr" id="apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr">
        function <span class="apidocSignatureSpan">qiniu.rs.EntryPathPair.prototype.</span>toStr
        <span class="apidocSignatureSpan">(op, force)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toStr = function (op, force) {
  if (typeof(force)=='undefined'){

    return 'op=/' + op + '/' + this.src.encode() + '/' + this.dest.encode() + '&amp;';

  }else{

    return 'op=/' + op + '/' + this.src.encode() + '/' + this.dest.encode() + '/force/' + force + '&amp;';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.EntryPathPair.prototype.toStr" id="apidoc.module.qiniu.rs.EntryPathPair.prototype.toStr">module qiniu.rs.EntryPathPair.prototype.toStr</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr.toStr" id="apidoc.element.qiniu.rs.EntryPathPair.prototype.toStr.toStr">
        function <span class="apidocSignatureSpan">qiniu.rs.EntryPathPair.prototype.</span>toStr
        <span class="apidocSignatureSpan">(op, force)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toStr = function (op, force) {
  if (typeof(force)=='undefined'){

    return 'op=/' + op + '/' + this.src.encode() + '/' + this.dest.encode() + '&amp;';

  }else{

    return 'op=/' + op + '/' + this.src.encode() + '/' + this.dest.encode() + '/force/' + force + '&amp;';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.GetPolicy" id="apidoc.module.qiniu.rs.GetPolicy">module qiniu.rs.GetPolicy</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.GetPolicy.GetPolicy" id="apidoc.element.qiniu.rs.GetPolicy.GetPolicy">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>GetPolicy
        <span class="apidocSignatureSpan">(expires)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function GetPolicy(expires) {
  this.expires = expires || 3600;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.GetPolicy.prototype" id="apidoc.module.qiniu.rs.GetPolicy.prototype">module qiniu.rs.GetPolicy.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest" id="apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.rs.GetPolicy.prototype.</span>makeRequest
        <span class="apidocSignatureSpan">(baseUrl, mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeRequest = function (baseUrl, mac) {
  if (!mac) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }

  var deadline = this.expires + Math.floor(Date.now() / 1000);

  if (baseUrl.indexOf('?') &gt;= 0) {
    baseUrl += '&amp;e=';
  } else {
    baseUrl += '?e=';
  }
  baseUrl += deadline;

  var signature = util.hmacSha1(baseUrl, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(signature);
  var downloadToken = mac.accessKey + ':' + encodedSign;

  return baseUrl + '&amp;token=' + downloadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.GetPolicy.prototype.makeRequest" id="apidoc.module.qiniu.rs.GetPolicy.prototype.makeRequest">module qiniu.rs.GetPolicy.prototype.makeRequest</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest.makeRequest" id="apidoc.element.qiniu.rs.GetPolicy.prototype.makeRequest.makeRequest">
        function <span class="apidocSignatureSpan">qiniu.rs.GetPolicy.prototype.</span>makeRequest
        <span class="apidocSignatureSpan">(baseUrl, mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeRequest = function (baseUrl, mac) {
  if (!mac) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }

  var deadline = this.expires + Math.floor(Date.now() / 1000);

  if (baseUrl.indexOf('?') &gt;= 0) {
    baseUrl += '&amp;e=';
  } else {
    baseUrl += '?e=';
  }
  baseUrl += deadline;

  var signature = util.hmacSha1(baseUrl, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(signature);
  var downloadToken = mac.accessKey + ':' + encodedSign;

  return baseUrl + '&amp;token=' + downloadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.PutPolicy" id="apidoc.module.qiniu.rs.PutPolicy">module qiniu.rs.PutPolicy</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy.PutPolicy" id="apidoc.element.qiniu.rs.PutPolicy.PutPolicy">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>PutPolicy
        <span class="apidocSignatureSpan">(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutPolicy(scope, callbackUrl, callbackBody, returnUrl, returnBody, endUser, expires, persistentOps, persistentNotifyUrl ) {
  this.scope = scope || null;
  this.callbackUrl = callbackUrl || null;
  this.callbackBody = callbackBody || null;
  this.returnUrl = returnUrl || null;
  this.returnBody = returnBody || null;
  this.endUser = endUser || null;
  this.expires = expires || 3600;
  this.persistentOps = persistentOps || null;
  this.persistentNotifyUrl = persistentNotifyUrl || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.PutPolicy.prototype" id="apidoc.module.qiniu.rs.PutPolicy.prototype">module qiniu.rs.PutPolicy.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags" id="apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags">
        function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy.prototype.</span>getFlags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFlags = function () {
  var flags = {};
  var attrs = ['scope', 'insertOnly', 'saveKey', 'endUser', 'returnUrl', 'returnBody', 'callbackUrl', 'callbackHost', 'callbackBody
', 'callbackBodyType', 'callbackFetchKey', 'persistentOps', 'persistentNotifyUrl', 'persistentPipeline', 'fsizeLimit', 'detectMime
', 'mimeLimit'];

  for (var i = attrs.length - 1; i &gt;= 0; i--) {
    if (this[attrs[i]] !== null) {
      flags[attrs[i]] = this[attrs[i]];
    }
  }

  flags['deadline'] = this.expires + Math.floor(Date.now() / 1000);

  return flags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy.prototype.token" id="apidoc.element.qiniu.rs.PutPolicy.prototype.token">
        function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy.prototype.</span>token
        <span class="apidocSignatureSpan">(mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">token = function (mac) {
  if (mac == null) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }
  var flags = this.getFlags();
  var encodedFlags = util.urlsafeBase64Encode(JSON.stringify(flags));
  var encoded = util.hmacSha1(encodedFlags, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(encoded);
  var uploadToken = mac.accessKey + ':' + encodedSign + ':' + encodedFlags;
  return uploadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.PutPolicy.prototype.getFlags" id="apidoc.module.qiniu.rs.PutPolicy.prototype.getFlags">module qiniu.rs.PutPolicy.prototype.getFlags</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags.getFlags" id="apidoc.element.qiniu.rs.PutPolicy.prototype.getFlags.getFlags">
        function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy.prototype.</span>getFlags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFlags = function () {
  var flags = {};
  var attrs = ['scope', 'insertOnly', 'saveKey', 'endUser', 'returnUrl', 'returnBody', 'callbackUrl', 'callbackHost', 'callbackBody
', 'callbackBodyType', 'callbackFetchKey', 'persistentOps', 'persistentNotifyUrl', 'persistentPipeline', 'fsizeLimit', 'detectMime
', 'mimeLimit'];

  for (var i = attrs.length - 1; i &gt;= 0; i--) {
    if (this[attrs[i]] !== null) {
      flags[attrs[i]] = this[attrs[i]];
    }
  }

  flags['deadline'] = this.expires + Math.floor(Date.now() / 1000);

  return flags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.PutPolicy.prototype.token" id="apidoc.module.qiniu.rs.PutPolicy.prototype.token">module qiniu.rs.PutPolicy.prototype.token</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy.prototype.token.token" id="apidoc.element.qiniu.rs.PutPolicy.prototype.token.token">
        function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy.prototype.</span>token
        <span class="apidocSignatureSpan">(mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">token = function (mac) {
  if (mac == null) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }
  var flags = this.getFlags();
  var encodedFlags = util.urlsafeBase64Encode(JSON.stringify(flags));
  var encoded = util.hmacSha1(encodedFlags, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(encoded);
  var uploadToken = mac.accessKey + ':' + encodedSign + ':' + encodedFlags;
  return uploadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.PutPolicy2" id="apidoc.module.qiniu.rs.PutPolicy2">module qiniu.rs.PutPolicy2</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2.PutPolicy2" id="apidoc.element.qiniu.rs.PutPolicy2.PutPolicy2">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>PutPolicy2
        <span class="apidocSignatureSpan">(putPolicyObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PutPolicy2(putPolicyObj) {

  if (typeof putPolicyObj !== 'object') {
    return false;
  }

  this.scope = putPolicyObj.scope || null;
  this.expires = putPolicyObj.expires || 3600;
  this.insertOnly = putPolicyObj.insertOnly || null;

  this.saveKey = putPolicyObj.saveKey || null;
  this.endUser = putPolicyObj.endUser || null;

  this.returnUrl = putPolicyObj.returnUrl || null;
  this.returnBody = putPolicyObj.returnBody || null;

  this.callbackUrl = putPolicyObj.callbackUrl || null;
  this.callbackHost = putPolicyObj.callbackHost || null;
  this.callbackBody = putPolicyObj.callbackBody || null;
  this.callbackBodyType = putPolicyObj.callbackBodyType || null;
  this.callbackFetchKey = putPolicyObj.callbackFetchKey || null;

  this.persistentOps = putPolicyObj.persistentOps || null;
  this.persistentNotifyUrl = putPolicyObj.persistentNotifyUrl || null;
  this.persistentPipeline = putPolicyObj.persistentPipeline || null;

  this.fsizeLimit = putPolicyObj.fsizeLimit || null;

  this.fsizeMin = putPolicyObj.fsizeMin || null;

  this.detectMime = putPolicyObj.detectMime || null;

  this.mimeLimit = putPolicyObj.mimeLimit || null;

  this.deleteAfterDays = putPolicyObj.deleteAfterDays || null;

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.PutPolicy2.prototype" id="apidoc.module.qiniu.rs.PutPolicy2.prototype">module qiniu.rs.PutPolicy2.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags" id="apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags">
        function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy2.prototype.</span>getFlags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFlags = function () {
  var flags = {};
  var attrs = ['scope', 'insertOnly', 'saveKey', 'endUser', 'returnUrl', 'returnBody', 'callbackUrl', 'callbackHost', 'callbackBody
', 'callbackBodyType', 'callbackFetchKey', 'persistentOps', 'persistentNotifyUrl', 'persistentPipeline', 'fsizeLimit','fsizeMin', '
detectMime', 'mimeLimit', 'deleteAfterDays'];

  for (var i = attrs.length - 1; i &gt;= 0; i--) {
    if (this[attrs[i]] !== null) {
      flags[attrs[i]] = this[attrs[i]];
    }
  }

  flags['deadline'] = this.expires + Math.floor(Date.now() / 1000);

  return flags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.token" id="apidoc.element.qiniu.rs.PutPolicy2.prototype.token">
        function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy2.prototype.</span>token
        <span class="apidocSignatureSpan">(mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">token = function (mac) {
  if (mac == null) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }
  var flags = this.getFlags();
  var encodedFlags = util.urlsafeBase64Encode(JSON.stringify(flags));
  var encoded = util.hmacSha1(encodedFlags, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(encoded);
  var uploadToken = mac.accessKey + ':' + encodedSign + ':' + encodedFlags;
  return uploadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.PutPolicy2.prototype.getFlags" id="apidoc.module.qiniu.rs.PutPolicy2.prototype.getFlags">module qiniu.rs.PutPolicy2.prototype.getFlags</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags.getFlags" id="apidoc.element.qiniu.rs.PutPolicy2.prototype.getFlags.getFlags">
        function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy2.prototype.</span>getFlags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFlags = function () {
  var flags = {};
  var attrs = ['scope', 'insertOnly', 'saveKey', 'endUser', 'returnUrl', 'returnBody', 'callbackUrl', 'callbackHost', 'callbackBody
', 'callbackBodyType', 'callbackFetchKey', 'persistentOps', 'persistentNotifyUrl', 'persistentPipeline', 'fsizeLimit','fsizeMin', '
detectMime', 'mimeLimit', 'deleteAfterDays'];

  for (var i = attrs.length - 1; i &gt;= 0; i--) {
    if (this[attrs[i]] !== null) {
      flags[attrs[i]] = this[attrs[i]];
    }
  }

  flags['deadline'] = this.expires + Math.floor(Date.now() / 1000);

  return flags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.PutPolicy2.prototype.token" id="apidoc.module.qiniu.rs.PutPolicy2.prototype.token">module qiniu.rs.PutPolicy2.prototype.token</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.PutPolicy2.prototype.token.token" id="apidoc.element.qiniu.rs.PutPolicy2.prototype.token.token">
        function <span class="apidocSignatureSpan">qiniu.rs.PutPolicy2.prototype.</span>token
        <span class="apidocSignatureSpan">(mac)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">token = function (mac) {
  if (mac == null) {
    mac = new Mac(conf.ACCESS_KEY, conf.SECRET_KEY);
  }
  var flags = this.getFlags();
  var encodedFlags = util.urlsafeBase64Encode(JSON.stringify(flags));
  var encoded = util.hmacSha1(encodedFlags, mac.secretKey);
  var encodedSign = util.base64ToUrlSafe(encoded);
  var uploadToken = mac.accessKey + ':' + encodedSign + ':' + encodedFlags;
  return uploadToken;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rs.makeBaseUrl" id="apidoc.module.qiniu.rs.makeBaseUrl">module qiniu.rs.makeBaseUrl</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rs.makeBaseUrl.makeBaseUrl" id="apidoc.element.qiniu.rs.makeBaseUrl.makeBaseUrl">
        function <span class="apidocSignatureSpan">qiniu.rs.</span>makeBaseUrl
        <span class="apidocSignatureSpan">(domain, key, query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function makeBaseUrl(domain, key, query) {
  key = new Buffer(key);
  return (/^https?:\/\//.test(domain) ? domain : 'http://' + domain) + '/' + querystring.escape(key) + (query || '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rsf" id="apidoc.module.qiniu.rsf">module qiniu.rsf</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rsf.listPrefix" id="apidoc.element.qiniu.rsf.listPrefix">
        function <span class="apidocSignatureSpan">qiniu.rsf.</span>listPrefix
        <span class="apidocSignatureSpan">(bucket, prefix, marker, limit, delimiter, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listPrefix = function (bucket, prefix, marker, limit, delimiter, onret) {
  var uri = getPrefixUri(bucket, prefix, marker, limit, delimiter);
  var digest = util.generateAccessToken(uri, null);

  rpc.postWithoutForm(uri, digest, onret)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.rsf.listPrefix" id="apidoc.module.qiniu.rsf.listPrefix">module qiniu.rsf.listPrefix</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.rsf.listPrefix.listPrefix" id="apidoc.element.qiniu.rsf.listPrefix.listPrefix">
        function <span class="apidocSignatureSpan">qiniu.rsf.</span>listPrefix
        <span class="apidocSignatureSpan">(bucket, prefix, marker, limit, delimiter, onret)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listPrefix = function (bucket, prefix, marker, limit, delimiter, onret) {
  var uri = getPrefixUri(bucket, prefix, marker, limit, delimiter);
  var digest = util.generateAccessToken(uri, null);

  rpc.postWithoutForm(uri, digest, onret)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.util" id="apidoc.module.qiniu.util">module qiniu.util</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.util.base64ToUrlSafe" id="apidoc.element.qiniu.util.base64ToUrlSafe">
        function <span class="apidocSignatureSpan">qiniu.util.</span>base64ToUrlSafe
        <span class="apidocSignatureSpan">(v)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">base64ToUrlSafe = function (v) {
  return v.replace(/\//g, '_').replace(/\+/g, '-');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.generateAccessToken" id="apidoc.element.qiniu.util.generateAccessToken">
        function <span class="apidocSignatureSpan">qiniu.util.</span>generateAccessToken
        <span class="apidocSignatureSpan">(uri, body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateAccessToken = function (uri, body) {
  var u = url.parse(uri);
  var path = u.path;
  var access = path + '\n';

  if (body) {
    access += body;
  }

  var digest = exports.hmacSha1(access, conf.SECRET_KEY);
  var safeDigest = exports.base64ToUrlSafe(digest);
  return 'QBox ' + conf.ACCESS_KEY + ':' + safeDigest;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.hmacSha1" id="apidoc.element.qiniu.util.hmacSha1">
        function <span class="apidocSignatureSpan">qiniu.util.</span>hmacSha1
        <span class="apidocSignatureSpan">(encodedFlags, secretKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hmacSha1 = function (encodedFlags, secretKey) {
<span class="apidocCodeCommentSpan">  /*
   *return value already encoded with base64
  * */
</span>  var hmac = crypto.createHmac('sha1', secretKey);
  hmac.update(encodedFlags);
  return hmac.digest('base64');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.isQiniuCallback" id="apidoc.element.qiniu.util.isQiniuCallback">
        function <span class="apidocSignatureSpan">qiniu.util.</span>isQiniuCallback
        <span class="apidocSignatureSpan">(path, body, callbackAuth)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isQiniuCallback(path, body, callbackAuth) {
  var auth = exports.generateAccessToken(path, body);
  return auth === callbackAuth;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.qiniu.util.urlsafeBase64Encode" id="apidoc.element.qiniu.util.urlsafeBase64Encode">
        function <span class="apidocSignatureSpan">qiniu.util.</span>urlsafeBase64Encode
        <span class="apidocSignatureSpan">(jsonFlags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">urlsafeBase64Encode = function (jsonFlags) {
  var encoded = new Buffer(jsonFlags).toString('base64');
  return exports.base64ToUrlSafe(encoded);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.util.base64ToUrlSafe" id="apidoc.module.qiniu.util.base64ToUrlSafe">module qiniu.util.base64ToUrlSafe</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.util.base64ToUrlSafe.base64ToUrlSafe" id="apidoc.element.qiniu.util.base64ToUrlSafe.base64ToUrlSafe">
        function <span class="apidocSignatureSpan">qiniu.util.</span>base64ToUrlSafe
        <span class="apidocSignatureSpan">(v)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">base64ToUrlSafe = function (v) {
  return v.replace(/\//g, '_').replace(/\+/g, '-');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.util.generateAccessToken" id="apidoc.module.qiniu.util.generateAccessToken">module qiniu.util.generateAccessToken</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.util.generateAccessToken.generateAccessToken" id="apidoc.element.qiniu.util.generateAccessToken.generateAccessToken">
        function <span class="apidocSignatureSpan">qiniu.util.</span>generateAccessToken
        <span class="apidocSignatureSpan">(uri, body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateAccessToken = function (uri, body) {
  var u = url.parse(uri);
  var path = u.path;
  var access = path + '\n';

  if (body) {
    access += body;
  }

  var digest = exports.hmacSha1(access, conf.SECRET_KEY);
  var safeDigest = exports.base64ToUrlSafe(digest);
  return 'QBox ' + conf.ACCESS_KEY + ':' + safeDigest;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.util.hmacSha1" id="apidoc.module.qiniu.util.hmacSha1">module qiniu.util.hmacSha1</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.util.hmacSha1.hmacSha1" id="apidoc.element.qiniu.util.hmacSha1.hmacSha1">
        function <span class="apidocSignatureSpan">qiniu.util.</span>hmacSha1
        <span class="apidocSignatureSpan">(encodedFlags, secretKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hmacSha1 = function (encodedFlags, secretKey) {
<span class="apidocCodeCommentSpan">  /*
   *return value already encoded with base64
  * */
</span>  var hmac = crypto.createHmac('sha1', secretKey);
  hmac.update(encodedFlags);
  return hmac.digest('base64');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.util.isQiniuCallback" id="apidoc.module.qiniu.util.isQiniuCallback">module qiniu.util.isQiniuCallback</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.util.isQiniuCallback.isQiniuCallback" id="apidoc.element.qiniu.util.isQiniuCallback.isQiniuCallback">
        function <span class="apidocSignatureSpan">qiniu.util.</span>isQiniuCallback
        <span class="apidocSignatureSpan">(path, body, callbackAuth)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isQiniuCallback(path, body, callbackAuth) {
  var auth = exports.generateAccessToken(path, body);
  return auth === callbackAuth;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.util.urlsafeBase64Encode" id="apidoc.module.qiniu.util.urlsafeBase64Encode">module qiniu.util.urlsafeBase64Encode</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.util.urlsafeBase64Encode.urlsafeBase64Encode" id="apidoc.element.qiniu.util.urlsafeBase64Encode.urlsafeBase64Encode">
        function <span class="apidocSignatureSpan">qiniu.util.</span>urlsafeBase64Encode
        <span class="apidocSignatureSpan">(jsonFlags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">urlsafeBase64Encode = function (jsonFlags) {
  var encoded = new Buffer(jsonFlags).toString('base64');
  return exports.base64ToUrlSafe(encoded);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.zone" id="apidoc.module.qiniu.zone">module qiniu.zone</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.zone.up_host" id="apidoc.element.qiniu.zone.up_host">
        function <span class="apidocSignatureSpan">qiniu.zone.</span>up_host
        <span class="apidocSignatureSpan">(uptoken, conf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">up_host = function (uptoken, conf){

    var version = process.versions;
    var num = version.node.split(".")[0];

    // node  1.0.0, &nbsp;conf&nbsp;
    if(num &lt; 1 ){
        conf.AUTOZONE = false;
    }

    if(!conf.AUTOZONE){
        return;
    }

    var ak = uptoken.toString().split(":")[0];
    var tokenPolicy = uptoken.toString().split(":")[2];
    var tokenPolicyStr = new Buffer(tokenPolicy, 'base64').toString();
    var json_tokenPolicyStr = JSON.parse(tokenPolicyStr);

    var scope = json_tokenPolicyStr.scope;
    var bucket = scope.toString().split(":")[0];

    // bucket &nbsp;
    if((new Date().getTime() &lt; conf.EXPIRE) &amp;&amp; bucket == conf.BUCKET){
        return;
    }

    //bucket
    conf.BUCKET = bucket;

    var res = request('GET', 'http://uc.qbox.me/v1/query?ak=' + ak + '&amp;bucket=' + bucket, {
      'headers': {
        'Content-Type': 'application/json'
      }
    });

    if(res.statusCode == 200){

        var json_str = JSON.parse(res.body.toString());

        //, http
        if(conf.SCHEME == 'http'){
            conf.UP_HOST = json_str.http.up[1];
        }else{
            conf.UP_HOST = json_str.https.up[0];
        }

        conf.EXPIRE = 86400 + new Date().getTime();

    }else{
        var err = new Error('Server responded with status code ' + res.statusCode + ':\n' + res.body.toString());
        err.statusCode = res.statusCode;
        err.headers = res.headers;
        err.body = res.body;
        throw err;
    }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.qiniu.zone.up_host" id="apidoc.module.qiniu.zone.up_host">module qiniu.zone.up_host</a></h1>


    <h2>
        <a href="#apidoc.element.qiniu.zone.up_host.up_host" id="apidoc.element.qiniu.zone.up_host.up_host">
        function <span class="apidocSignatureSpan">qiniu.zone.</span>up_host
        <span class="apidocSignatureSpan">(uptoken, conf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">up_host = function (uptoken, conf){

    var version = process.versions;
    var num = version.node.split(".")[0];

    // node  1.0.0, &nbsp;conf&nbsp;
    if(num &lt; 1 ){
        conf.AUTOZONE = false;
    }

    if(!conf.AUTOZONE){
        return;
    }

    var ak = uptoken.toString().split(":")[0];
    var tokenPolicy = uptoken.toString().split(":")[2];
    var tokenPolicyStr = new Buffer(tokenPolicy, 'base64').toString();
    var json_tokenPolicyStr = JSON.parse(tokenPolicyStr);

    var scope = json_tokenPolicyStr.scope;
    var bucket = scope.toString().split(":")[0];

    // bucket &nbsp;
    if((new Date().getTime() &lt; conf.EXPIRE) &amp;&amp; bucket == conf.BUCKET){
        return;
    }

    //bucket
    conf.BUCKET = bucket;

    var res = request('GET', 'http://uc.qbox.me/v1/query?ak=' + ak + '&amp;bucket=' + bucket, {
      'headers': {
        'Content-Type': 'application/json'
      }
    });

    if(res.statusCode == 200){

        var json_str = JSON.parse(res.body.toString());

        //, http
        if(conf.SCHEME == 'http'){
            conf.UP_HOST = json_str.http.up[1];
        }else{
            conf.UP_HOST = json_str.https.up[0];
        }

        conf.EXPIRE = 86400 + new Date().getTime();

    }else{
        var err = new Error('Server responded with status code ' + res.statusCode + ':\n' + res.body.toString());
        err.statusCode = res.statusCode;
        err.headers = res.headers;
        err.body = res.body;
        throw err;
    }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>